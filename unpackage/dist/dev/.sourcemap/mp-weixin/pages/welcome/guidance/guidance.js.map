{"version":3,"sources":["uni-app:///main.js","webpack:///F:/uniapp/sfb/sysf_customer_before/pages/welcome/guidance/guidance.vue?9fc9","webpack:///F:/uniapp/sfb/sysf_customer_before/pages/welcome/guidance/guidance.vue?2042","webpack:///F:/uniapp/sfb/sysf_customer_before/pages/welcome/guidance/guidance.vue?f93a","webpack:///F:/uniapp/sfb/sysf_customer_before/pages/welcome/guidance/guidance.vue?577c","uni-app:///pages/welcome/guidance/guidance.vue"],"names":["createPage","Page"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,6G;AACAA,UAAU,CAACC,iBAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAqH;AACrH;AAC4D;AACL;;;AAGvD;AACqK;AACrK,gBAAgB,+KAAU;AAC1B,EAAE,8EAAM;AACR,EAAE,mFAAM;AACR,EAAE,4FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,uFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACtBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAkmB,CAAgB,4nBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;ACQtnB;AACA,QADA,oBACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2CA;AACA;AACA;AACA,KAFA,MAEA;AACA;AACA,wCADA;;AAGA;AACA,GApDA;AAqDA,MArDA,kBAqDA;AACA;;;AAGA,GAzDA;AA0DA;AACA,cADA,wBACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OANA;AAOA,KATA;AAUA,SAVA,iBAUA,IAVA,EAUA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCADA;;AAGA,KA7BA,EA1DA,E","file":"pages/welcome/guidance/guidance.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/welcome/guidance/guidance.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./guidance.vue?vue&type=template&id=19f798ce&\"\nvar renderjs\nimport script from \"./guidance.vue?vue&type=script&lang=js&\"\nexport * from \"./guidance.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/welcome/guidance/guidance.vue\"\nexport default component.exports","export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./guidance.vue?vue&type=template&id=19f798ce&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./guidance.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./guidance.vue?vue&type=script&lang=js&\"","<!-- 引导页 -->\r\n<template>\r\n\t<view>\r\n\t\t<image style=\" width: 100%;height: calc(100vh)\" src=\"http://www.hzsysf.com/sfb/image/45611.png\" mode=\"aspectFill\"></image>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\texport default {\r\n\t\tonLoad() {\r\n\t\t\t// #ifdef APP-PLUS\r\n\t\t\tlet platform = uni.getSystemInfoSync().platform\r\n\t\t\tif (platform == 'ios') {\r\n\t\t\t\t//ios默认会有通知 不需要手动设置\r\n\t\t\t\tconsole.log('我是iOS')\r\n\t\t\t} else if (platform == 'android') {\r\n\t\t\t\tconsole.log('我是安卓')\r\n\t\t\t\t/* 获取当前手机是否有通知权限 */\r\n\t\t\t\tlet main = plus.android.runtimeMainActivity();\r\n\t\t\t\tlet pkName = main.getPackageName();\r\n\t\t\t\tlet NotificationManagerCompat = plus.android.importClass(\"android.support.v4.app.NotificationManagerCompat\");\r\n\t\t\t\tlet packageNames = NotificationManagerCompat.from(main);\r\n\t\t\t\tconsole.log(\"是否有通知权限\");\r\n\t\t\t\tif (!packageNames.areNotificationsEnabled()) { //手机没有开启通知的权限\r\n\t\t\t\t\tconsole.log(\"没有通知权限\");\r\n\t\t\t\t\tlet uid = main.getApplicationInfo().plusGetAttribute(\"uid\");\r\n\t\t\t\t\tlet Intent = plus.android.importClass('android.content.Intent');\r\n\t\t\t\t\tlet Build = plus.android.importClass(\"android.os.Build\");\r\n\t\t\t\t\tlet intent = '';\r\n\t\t\t\t\t//android 8.0引导  \r\n\t\t\t\t\tif (Build.VERSION.SDK_INT >= 26) {\r\n\t\t\t\t\t\tintent = new Intent('android.settings.APP_NOTIFICATION_SETTINGS');\r\n\t\t\t\t\t\tintent.putExtra('android.provider.extra.APP_PACKAGE', pkName);\r\n\t\t\t\t\t} else if (Build.VERSION.SDK_INT >= 21) { //android 5.0-7.0  \r\n\t\t\t\t\t\tintent = new Intent('android.settings.APP_NOTIFICATION_SETTINGS');\r\n\t\t\t\t\t\tintent.putExtra(\"app_package\", pkName);\r\n\t\t\t\t\t\tintent.putExtra(\"app_uid\", uid);\r\n\t\t\t\t\t} else { //(<21)其他--跳转到该应用管理的详情页\r\n\t\t\t\t\t\tlet Settings = plus.android.importClass(\"android.provider.Settings\");\r\n\t\t\t\t\t\tlet Uri = plus.android.importClass(\"android.net.Uri\");\r\n\t\t\t\t\t\tintent = new Intent();\r\n\t\t\t\t\t\tintent.setAction(Settings.ACTION_APPLICATION_DETAILS_SETTINGS);\r\n\t\t\t\t\t\tlet uri = Uri.fromParts(\"package\", main.getPackageName(), null);\r\n\t\t\t\t\t\tintent.setData(uri);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// 跳转到该应用的系统通知设置页  \r\n\t\t\t\t\tmain.startActivity(intent);\r\n\t\t\t\t}\r\n\t\t\t\t/* 获取当前手机是否有通知权限 */\r\n\t\t\t}\r\n\t\t\t// #endif \r\n\r\n\t\t\tvar isLogin = uni.getStorageSync(this.ISLOGIN);\r\n\t\t\tif (isLogin) {\r\n\t\t\t\tthis.noWXtoMain();\r\n\t\t\t} else {\r\n\t\t\t\tuni.switchTab({\r\n\t\t\t\t\turl: \"../../diagnosis/diagnosis\"\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tnoWXtoMain() {\r\n\t\t\t\tthis.$u.get(this.CustomerInfoUrl).then(res => {\r\n\t\t\t\t\tconsole.log(\"获取用户信息\");\r\n\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\tif (res.status == 0) {\r\n\t\t\t\t\t\tthis.login(res.data);\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tlogin(data) {\r\n\t\t\t\tthis.$u.toast(\"登录成功\");\r\n\t\t\t\tuni.setStorageSync(this.ISLOGIN, true);\r\n\t\t\t\tuni.setStorageSync(this.TOKEN, data.token);\r\n\t\t\t\tuni.setStorageSync(this.ID, data.id);\r\n\t\t\t\t// uni.$emit(this.LOGINSOCKET,'');\r\n\t\t\t\t// this.socketLocal(data.id);\r\n\t\t\t\tuni.setStorageSync(this.IPHONE, data.phone);\r\n\t\t\t\tuni.setStorageSync(this.CLINICNAME, data.clinicName);\r\n\t\t\t\tuni.setStorageSync(this.HEADIMG, data.avatar);\r\n\t\t\t\tuni.setStorageSync(this.NAME, data.userName);\r\n\t\t\t\tuni.setStorageSync(this.READ, true);\r\n\t\t\t\t//state  0  未认证  1已认证\r\n\t\t\t\tif (data.state == 1) {\r\n\t\t\t\t\tuni.setStorageSync(this.ISID, true);\r\n\t\t\t\t}\r\n\t\t\t\tuni.switchTab({\r\n\t\t\t\t\turl: \"../../diagnosis/diagnosis\"\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t},\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>\n"],"sourceRoot":""}