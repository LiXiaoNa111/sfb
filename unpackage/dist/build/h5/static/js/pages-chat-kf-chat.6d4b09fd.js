(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-chat-kf-chat"],{"1df8":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEQAAABECAMAAAAPzWOAAAAAhFBMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADg4OAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABaWlpUVFQAAAAAAADp6enm5uYAAAAAAAAAAAAAAAAAAAAAAAAAAADt7e3i4uJCQkLc3NyxsbGUlJROTk4vLy/KysqgoKCMjIxmZmb///9Fpb+SAAAAK3RSTlOAAHyJeQcMBBTvZm2OKR8wXlmdmnZN7OlURjxBNht17+iS5dLFlojbzcCnootlIgAAAk5JREFUWMO92Nl2mzAQgOGRRlsl1tY4gJc4TXfe//0qJ81RHaMZ4CL/je++I+twYCQQ+azVWhvnTPyxgiiLaFceer+TL4WmGyujaeReGL2Ed6m2NnYxYsoG5lPdSZNIIjxCvrayLGKrSFAhdI5BzAAITLirNYWcfAF8iJ3JI7VEWFThXQ4ZMRmccq7mkUMi+FBVc8h4Z9DKubpHalhZEdx7pJK4WvH6FjHh3uCV4RbpCtgQlv8jFWwKg0mI9rhRGRNSI2xMujdEB9gaDm9ImV/ILgRFKsq8IrbJr/bPr29PtHJ8RRzkkcs0Xb6QirdXxI4Esp+maU8rpyuiPYF8mlhlvCJOcsj0QCmNjUgJJMIqygiwA43wSiVAtzTCK8eIBBrhlSEiikZ4pRdgJI2kLt/nlUaA45DU8w7m8gJOy5GvP2QGcR+MPJ8ze7JiYx8yG9sK0LuFyP7zvAFdRDyJ8AYcBNieRJKRXXEtQBxIhDfAsa8C3jjriBjJIo9xP7L1NiK24ZBo0K97ICcT+cga0l0R6iUrf8ZnjDSgtS+I7RFyPf3mPl6liAg9WCjuMxr0P8S2CBvDWsSAnXGYhaRJidgVbt5KiJPbjPZm8DtuWopyN4joi027mpCNg2zR3Y3llcKVRqPvEFFKXGV4IxJCKKyRkKSci+X/xeSObye/UMFO5w+SpkNcQKjaUkdaWwZkjdZxJ3RzkEgSodT8Md+6QWGeqA19V5CYo58lZFuaFfcnujo06lbYtUenV17CWG2qcWh9CME3/VCf0mUOhWzvL/uSON3/9ZKbAAAAAElFTkSuQmCC"},3242:function(e,t,i){var o=i("24fb");t=o(!1),t.push([e.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */uni-page-body[data-v-a2e9cc70]{background-color:#e5e5e5}@font-face{font-family:HMfont-home;src:url("data:application/x-font-woff2;charset=utf-8;base64,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") format("woff2")}.icon[data-v-a2e9cc70]{font-family:HMfont-home!important;font-size:%?56?%;font-style:normal;color:#333}.icon.biaoqing[data-v-a2e9cc70]:before{content:"\\e797"}.icon.jianpan[data-v-a2e9cc70]:before{content:"\\e7b2"}.icon.yuyin[data-v-a2e9cc70]:before{content:"\\e805"}.icon.tupian[data-v-a2e9cc70]:before{content:"\\e639"}.icon.chehui[data-v-a2e9cc70]:before{content:"\\e904"}.icon.luyin[data-v-a2e9cc70]:before{content:"\\e905"}.icon.luyin2[data-v-a2e9cc70]:before{content:"\\e677"}.icon.other-voice[data-v-a2e9cc70]:before{content:"\\e667"}.icon.my-voice[data-v-a2e9cc70]:before{content:"\\e906"}.icon.hongbao[data-v-a2e9cc70]:before{content:"\\e626"}.icon.tupian2[data-v-a2e9cc70]:before{content:"\\e674"}.icon.paizhao[data-v-a2e9cc70]:before{content:"\\e63e"}.icon.add[data-v-a2e9cc70]:before{content:"\\e655"}.icon.close[data-v-a2e9cc70]:before{content:"\\e607"}.icon.to[data-v-a2e9cc70]:before{content:"\\e675"}.hidden[data-v-a2e9cc70]{display:none!important}.popup-layer[data-v-a2e9cc70]{-webkit-transition:all .15s linear;transition:all .15s linear;width:100%;height:42vw;padding:%?20?% 2%;background-color:#f3f3f3;border-top:solid %?1?% #ddd;position:fixed;z-index:20;top:100%}.popup-layer.showLayer[data-v-a2e9cc70]{-webkit-transform:translate3d(0,-42vw,0);transform:translate3d(0,-42vw,0)}.popup-layer .emoji-swiper[data-v-a2e9cc70]{height:40vw}.popup-layer .emoji-swiper uni-swiper-item[data-v-a2e9cc70]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-align-content:flex-start;align-content:flex-start;-webkit-flex-wrap:wrap;flex-wrap:wrap}.popup-layer .emoji-swiper uni-swiper-item uni-view[data-v-a2e9cc70]{width:12vw;height:12vw;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.popup-layer .emoji-swiper uni-swiper-item uni-view uni-image[data-v-a2e9cc70]{width:8.4vw;height:8.4vw}.popup-layer .more-layer[data-v-a2e9cc70]{width:100%;height:42vw}.popup-layer .more-layer .list[data-v-a2e9cc70]{width:100%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-flex-wrap:wrap;flex-wrap:wrap}.popup-layer .more-layer .list .box[data-v-a2e9cc70]{width:18vw;height:18vw;border-radius:%?20?%;background-color:#fff;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;align-items:center;margin:0 3vw 2vw 3vw}.popup-layer .more-layer .list .box .icon[data-v-a2e9cc70]{font-size:%?70?%}.input-box[data-v-a2e9cc70]{width:100%;min-height:%?100?%;padding:0 1%;background-color:#f2f2f2;display:-webkit-box;display:-webkit-flex;display:flex;position:fixed;z-index:20;bottom:%?-2?%;-webkit-transition:all .15s linear;transition:all .15s linear;border-bottom:solid %?1?% #ddd}.input-box.showLayer[data-v-a2e9cc70]{-webkit-transform:translate3d(0,-42vw,0);transform:translate3d(0,-42vw,0)}.input-box .voice[data-v-a2e9cc70], .input-box .more[data-v-a2e9cc70]{-webkit-flex-shrink:0;flex-shrink:0;width:%?90?%;height:%?100?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.input-box .send[data-v-a2e9cc70]{\r\nmargin-left:%?20?%;\r\n-webkit-flex-shrink:0;flex-shrink:0;width:%?100?%;height:%?100?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.input-box .send .btn[data-v-a2e9cc70]{width:%?90?%;height:%?56?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;background:#10be62;color:#fff;border-radius:%?6?%;font-size:%?24?%}.input-box .textbox[data-v-a2e9cc70]{width:100%;min-height:%?70?%;margin-top:%?15?%}.input-box .textbox .voice-mode[data-v-a2e9cc70]{width:calc(100% - %?2?%);height:%?68?%;border-radius:%?70?%;border:solid %?1?% #cdcdcd;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;font-size:%?28?%;background-color:#fff;color:#555}.input-box .textbox .voice-mode.recording[data-v-a2e9cc70]{background-color:#e5e5e5}.input-box .textbox .text-mode[data-v-a2e9cc70]{width:100%;min-height:%?70?%;display:-webkit-box;display:-webkit-flex;display:flex;background-color:#fff;border-radius:%?40?%}.input-box .textbox .text-mode .box[data-v-a2e9cc70]{width:100%;padding-left:%?30?%;min-height:%?70?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.input-box .textbox .text-mode .box uni-textarea[data-v-a2e9cc70]{width:100%}.input-box .textbox .text-mode .em[data-v-a2e9cc70]{-webkit-flex-shrink:0;flex-shrink:0;width:%?80?%;padding-left:%?10?%;height:%?70?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.record[data-v-a2e9cc70]{width:40vw;height:40vw;position:fixed;top:55%;left:30%;background-color:rgba(0,0,0,.6);border-radius:%?20?%}.record .ing[data-v-a2e9cc70]{width:100%;height:30vw;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center}@-webkit-keyframes volatility-data-v-a2e9cc70{0%{background-position:0 130%}20%{background-position:0 150%}30%{background-position:0 155%}40%{background-position:0 150%}50%{background-position:0 145%}70%{background-position:0 150%}80%{background-position:0 155%}90%{background-position:0 140%}100%{background-position:0 135%}}@keyframes volatility-data-v-a2e9cc70{0%{background-position:0 130%}20%{background-position:0 150%}30%{background-position:0 155%}40%{background-position:0 150%}50%{background-position:0 145%}70%{background-position:0 150%}80%{background-position:0 155%}90%{background-position:0 140%}100%{background-position:0 135%}}.record .ing .icon[data-v-a2e9cc70]{background-image:-webkit-linear-gradient(top,#f09b37,#fff 50%);background-image:linear-gradient(180deg,#f09b37,#fff 50%);background-size:100% 200%;-webkit-animation:volatility-data-v-a2e9cc70 1.5s ease-in-out -1.5s infinite alternate;animation:volatility-data-v-a2e9cc70 1.5s ease-in-out -1.5s infinite alternate;-webkit-background-clip:text;-webkit-text-fill-color:transparent;font-size:%?150?%;color:#f09b37}.record .cancel[data-v-a2e9cc70]{width:100%;height:30vw;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.record .cancel .icon[data-v-a2e9cc70]{color:#fff;font-size:%?150?%}.record .tis[data-v-a2e9cc70]{width:100%;height:10vw;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;font-size:%?28?%;color:#fff}.record .tis.change[data-v-a2e9cc70]{color:#f09b37}.content[data-v-a2e9cc70]{width:100%}.content .msg-list[data-v-a2e9cc70]{width:100%;padding:0 2%;position:absolute;top:0;bottom:%?100?%}.content .msg-list .loading[data-v-a2e9cc70]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}@-webkit-keyframes stretchdelay-data-v-a2e9cc70{0%, 40%, 100%{-webkit-transform:scaleY(.6);transform:scaleY(.6)}20%{-webkit-transform:scaleY(1);transform:scaleY(1)}}@keyframes stretchdelay-data-v-a2e9cc70{0%, 40%, 100%{-webkit-transform:scaleY(.6);transform:scaleY(.6)}20%{-webkit-transform:scaleY(1);transform:scaleY(1)}}.content .msg-list .loading .spinner[data-v-a2e9cc70]{margin:%?20?% 0;width:%?60?%;height:%?100?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.content .msg-list .loading .spinner uni-view[data-v-a2e9cc70]{background-color:#10be62;height:%?50?%;width:%?6?%;border-radius:%?6?%;-webkit-animation:stretchdelay-data-v-a2e9cc70 1.2s infinite ease-in-out;animation:stretchdelay-data-v-a2e9cc70 1.2s infinite ease-in-out}.content .msg-list .loading .spinner .rect2[data-v-a2e9cc70]{-webkit-animation-delay:-1.1s;animation-delay:-1.1s}.content .msg-list .loading .spinner .rect3[data-v-a2e9cc70]{-webkit-animation-delay:-1s;animation-delay:-1s}.content .msg-list .loading .spinner .rect4[data-v-a2e9cc70]{-webkit-animation-delay:-.9s;animation-delay:-.9s}.content .msg-list .loading .spinner .rect5[data-v-a2e9cc70]{-webkit-animation-delay:-.8s;animation-delay:-.8s}.content .msg-list .row[data-v-a2e9cc70]{padding:%?20?% 0}.content .msg-list .row .system[data-v-a2e9cc70]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}.content .msg-list .row .system uni-view[data-v-a2e9cc70]{padding:0 %?30?%;height:%?50?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;background-color:#c9c9c9;color:#fff;font-size:%?24?%;border-radius:%?40?%}.content .msg-list .row .system .red-envelope uni-image[data-v-a2e9cc70]{margin-right:%?5?%;width:%?30?%;height:%?30?%}.content .msg-list .row[data-v-a2e9cc70]:first-child{margin-top:%?20?%}.content .msg-list .row .my .left[data-v-a2e9cc70], .content .msg-list .row .other .right[data-v-a2e9cc70]{width:100%;display:-webkit-box;display:-webkit-flex;display:flex}.content .msg-list .row .my .left .bubble[data-v-a2e9cc70], .content .msg-list .row .other .right .bubble[data-v-a2e9cc70]{max-width:70%;min-height:%?50?%;border-radius:%?10?%;padding:%?15?% %?20?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;font-size:%?32?%;word-break:break-word}.content .msg-list .row .my .left .bubble.img[data-v-a2e9cc70], .content .msg-list .row .other .right .bubble.img[data-v-a2e9cc70]{background-color:initial;padding:0;overflow:hidden}.content .msg-list .row .my .left .bubble.img uni-image[data-v-a2e9cc70], .content .msg-list .row .other .right .bubble.img uni-image[data-v-a2e9cc70]{max-width:%?250?%;max-height:%?250?%}.content .msg-list .row .my .left .bubble.recommend[data-v-a2e9cc70], .content .msg-list .row .other .right .bubble.recommend[data-v-a2e9cc70]{background-color:initial;padding:%?12?%;overflow:hidden;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row}.content .msg-list .row .my .left .bubble.recommend uni-image[data-v-a2e9cc70], .content .msg-list .row .other .right .bubble.recommend uni-image[data-v-a2e9cc70]{max-width:%?150?%;max-height:%?150?%;border-radius:%?10?%;margin-right:%?12?%}.content .msg-list .row .my .left .bubble.video[data-v-a2e9cc70], .content .msg-list .row .other .right .bubble.video[data-v-a2e9cc70]{background-color:initial;padding:0;overflow:hidden}.content .msg-list .row .my .left .bubble.video uni-video[data-v-a2e9cc70], .content .msg-list .row .other .right .bubble.video uni-video[data-v-a2e9cc70]{max-width:%?250?%;max-height:%?300?%}.content .msg-list .row .my .left .bubble.red-envelope[data-v-a2e9cc70], .content .msg-list .row .other .right .bubble.red-envelope[data-v-a2e9cc70]{background-color:initial;padding:0;overflow:hidden;position:relative;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:start;-webkit-align-items:flex-start;align-items:flex-start}.content .msg-list .row .my .left .bubble.red-envelope uni-image[data-v-a2e9cc70], .content .msg-list .row .other .right .bubble.red-envelope uni-image[data-v-a2e9cc70]{width:%?250?%;height:%?313?%}.content .msg-list .row .my .left .bubble.red-envelope .tis[data-v-a2e9cc70], .content .msg-list .row .other .right .bubble.red-envelope .tis[data-v-a2e9cc70]{position:absolute;top:6%;font-size:%?26?%;color:#9c1712}.content .msg-list .row .my .left .bubble.red-envelope .blessing[data-v-a2e9cc70], .content .msg-list .row .other .right .bubble.red-envelope .blessing[data-v-a2e9cc70]{position:absolute;bottom:14%;color:#e9b874;width:80%;text-align:center;overflow:hidden;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2}.content .msg-list .row .my .left .bubble.voice .icon[data-v-a2e9cc70], .content .msg-list .row .other .right .bubble.voice .icon[data-v-a2e9cc70]{font-size:%?40?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.content .msg-list .row .my .left .bubble.voice .icon[data-v-a2e9cc70]:after, .content .msg-list .row .other .right .bubble.voice .icon[data-v-a2e9cc70]:after{content:" ";width:%?53?%;height:%?53?%;border-radius:100%;position:absolute;box-sizing:border-box}.content .msg-list .row .my .left .bubble.voice .length[data-v-a2e9cc70], .content .msg-list .row .other .right .bubble.voice .length[data-v-a2e9cc70]{font-size:%?28?%}.content .msg-list .row .my .right[data-v-a2e9cc70], .content .msg-list .row .other .left[data-v-a2e9cc70]{-webkit-flex-shrink:0;flex-shrink:0;width:%?80?%;height:%?80?%}.content .msg-list .row .my .right uni-image[data-v-a2e9cc70], .content .msg-list .row .other .left uni-image[data-v-a2e9cc70]{width:%?80?%;height:%?80?%;border-radius:%?10?%}.content .msg-list .row .my[data-v-a2e9cc70]{width:100%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:end;-webkit-justify-content:flex-end;justify-content:flex-end}.content .msg-list .row .my .left[data-v-a2e9cc70]{min-height:%?80?%;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:end;-webkit-justify-content:flex-end;justify-content:flex-end}.content .msg-list .row .my .left .bubble[data-v-a2e9cc70]{background-color:#10be62;color:#fff}.content .msg-list .row .my .left .bubble.voice .icon[data-v-a2e9cc70]{color:#fff}.content .msg-list .row .my .left .bubble.voice .length[data-v-a2e9cc70]{margin-right:%?20?%}@-webkit-keyframes my-play-data-v-a2e9cc70{0%{-webkit-transform:translateX(80%);transform:translateX(80%)}100%{-webkit-transform:translateX(0);transform:translateX(0)}}@keyframes my-play-data-v-a2e9cc70{0%{-webkit-transform:translateX(80%);transform:translateX(80%)}100%{-webkit-transform:translateX(0);transform:translateX(0)}}.content .msg-list .row .my .left .bubble.play .icon[data-v-a2e9cc70]:after{border-left:solid %?10?% rgba(16,190,98,.8);-webkit-animation:my-play-data-v-a2e9cc70 1s linear infinite;animation:my-play-data-v-a2e9cc70 1s linear infinite}.content .msg-list .row .my .right[data-v-a2e9cc70]{margin-left:%?15?%}.content .msg-list .row .other[data-v-a2e9cc70]{width:100%;display:-webkit-box;display:-webkit-flex;display:flex}.content .msg-list .row .other .left[data-v-a2e9cc70]{margin-right:%?15?%}.content .msg-list .row .other .right[data-v-a2e9cc70]{-webkit-flex-wrap:wrap;flex-wrap:wrap}.content .msg-list .row .other .right .username[data-v-a2e9cc70]{width:100%;height:%?45?%;font-size:%?24?%;color:#999;display:-webkit-box;display:-webkit-flex;display:flex}.content .msg-list .row .other .right .username .name[data-v-a2e9cc70]{margin-right:%?50?%}.content .msg-list .row .other .right .bubble[data-v-a2e9cc70]{background-color:#fff;color:#333}.content .msg-list .row .other .right .bubble.voice .icon[data-v-a2e9cc70]{color:#333}.content .msg-list .row .other .right .bubble.voice .length[data-v-a2e9cc70]{margin-left:%?20?%}@-webkit-keyframes other-play-data-v-a2e9cc70{0%{-webkit-transform:translateX(-80%);transform:translateX(-80%)}100%{-webkit-transform:translateX(0);transform:translateX(0)}}@keyframes other-play-data-v-a2e9cc70{0%{-webkit-transform:translateX(-80%);transform:translateX(-80%)}100%{-webkit-transform:translateX(0);transform:translateX(0)}}.content .msg-list .row .other .right .bubble.play .icon[data-v-a2e9cc70]:after{border-right:solid %?10?% hsla(0,0%,100%,.8);-webkit-animation:other-play-data-v-a2e9cc70 1s linear infinite;animation:other-play-data-v-a2e9cc70 1s linear infinite}.windows .mask[data-v-a2e9cc70]{position:fixed;top:100%;width:100%;height:100%;z-index:1000;background-color:rgba(0,0,0,.6);opacity:0;-webkit-transition:opacity .2s ease-out;transition:opacity .2s ease-out}.windows .layer[data-v-a2e9cc70]{position:fixed;width:80%;height:70%;left:10%;z-index:1001;border-radius:%?20?%;overflow:hidden;top:100%;-webkit-transform:scale3d(.5,.5,1);transform:scale3d(.5,.5,1);-webkit-transition:all .2s ease-out;transition:all .2s ease-out}.windows.show[data-v-a2e9cc70]{display:block}.windows.show .mask[data-v-a2e9cc70]{top:0;opacity:1}.windows.show .layer[data-v-a2e9cc70]{-webkit-transform:translate3d(0,-85vh,0) scaleX(1);transform:translate3d(0,-85vh,0) scaleX(1)}.windows.hide[data-v-a2e9cc70]{display:block}.windows.hide .mask[data-v-a2e9cc70]{top:0;opacity:0}.open-redenvelope[data-v-a2e9cc70]{width:100%;height:70vh;background-color:#cf3c35;position:relative}.open-redenvelope .top[data-v-a2e9cc70]{width:100%;background-color:#fe5454;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-flex-wrap:wrap;flex-wrap:wrap;border-radius:0 0 100% 100%;box-shadow:inset 0 %?-20?% 0 #9c1712;margin-bottom:%?65?%}.open-redenvelope .top .close-btn[data-v-a2e9cc70]{width:100%;height:%?80?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:end;-webkit-justify-content:flex-end;justify-content:flex-end;margin-bottom:%?30?%}.open-redenvelope .top .close-btn .icon[data-v-a2e9cc70]{color:#9c1712;margin-top:%?10?%;margin-right:%?10?%}.open-redenvelope .top uni-image[data-v-a2e9cc70]{width:%?130?%;height:%?130?%;border:solid %?12?% #cf3c35;border-radius:100%;margin-bottom:%?-65?%}.open-redenvelope .from[data-v-a2e9cc70], .open-redenvelope .blessing[data-v-a2e9cc70], .open-redenvelope .money[data-v-a2e9cc70], .open-redenvelope .showDetails[data-v-a2e9cc70]{width:90%;padding:%?5?% 5%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;font-size:%?32?%;color:#fff}.open-redenvelope .money[data-v-a2e9cc70]{font-size:%?100?%;color:#f8d757;display:-webkit-box;display:-webkit-flex;display:flex;padding-top:%?20?%}.open-redenvelope .showDetails[data-v-a2e9cc70]{position:absolute;bottom:%?20?%;-webkit-box-align:center;-webkit-align-items:center;align-items:center;font-size:%?28?%;color:#f8d757}.open-redenvelope .showDetails .icon[data-v-a2e9cc70]{font-size:%?26?%;color:#f8d757}.tui-video[data-v-a2e9cc70]{width:50%;height:%?350?%;object-fit:fill}.view-recommend[data-v-a2e9cc70]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-align-self:flex-start;align-self:flex-start}.txt-name[data-v-a2e9cc70]{font-size:%?30?%;color:#595757;font-weight:700}.txt-subtitle[data-v-a2e9cc70]{font-size:%?26?%;color:#afafaf}.view-video-play[data-v-a2e9cc70]{width:100%;height:100%;position:absolute;top:0;left:0;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}.view-video-img[data-v-a2e9cc70]{border-radius:%?12?%;width:%?250?%;height:%?300?%}.view-video-play-img[data-v-a2e9cc70]{width:%?50?%;height:%?50?%}.right-time[data-v-a2e9cc70]{text-align:center;width:100%;font-size:%?22?%;color:#afafaf;margin-bottom:%?12?%}.view-right[data-v-a2e9cc70]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}.right2[data-v-a2e9cc70]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;width:auto}.right-media-type[data-v-a2e9cc70]{text-align:center;font-size:%?28?%;color:#10be62;margin-bottom:%?15?%;background-color:#e2f2e9;padding:%?18?%;border-radius:%?6?%;width:auto}.right-media-type-up[data-v-a2e9cc70]{text-align:center;font-size:%?28?%;color:#f1374d;margin-bottom:%?15?%;background-color:#fff;padding:%?18?%;border-radius:%?6?%;width:auto}.bottm-tu-txt[data-v-a2e9cc70]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;justify-content:center;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column}.more-img[data-v-a2e9cc70]{width:%?62?%;height:%?62?%}.more-txt[data-v-a2e9cc70]{width:100%;text-align:center;font-size:%?26?%;color:#999}body.?%PAGE?%[data-v-a2e9cc70]{background-color:#e5e5e5}',""]),e.exports=t},"40b6":function(e,t,i){var o;function a(){var e=!1,t=plus.ios.import("UIApplication"),i=t.sharedApplication(),o=0;if(i.currentUserNotificationSettings){var a=i.currentUserNotificationSettings();o=a.plusGetAttribute("types"),console.log("enabledTypes1:"+o),0==o?console.log("推送权限没有开启"):(e=!0,console.log("已经开启推送功能!")),plus.ios.deleteObject(a)}else o=i.enabledRemoteNotificationTypes(),0==o?console.log("推送权限没有开启!"):(e=!0,console.log("已经开启推送功能!")),console.log("enabledTypes2:"+o);return plus.ios.deleteObject(i),plus.ios.deleteObject(t),e}function n(){var e=!1,t=plus.ios.import("CLLocationManager"),i=t.authorizationStatus();return e=2!=i,console.log("定位权限开启："+e),plus.ios.deleteObject(t),e}function s(){var e=!1,t=plus.ios.import("AVAudioSession"),i=t.sharedInstance(),o=i.recordPermission();return console.log("permissionStatus:"+o),1684369017==o||1970168948==o?console.log("麦克风权限没有开启"):(e=!0,console.log("麦克风权限已经开启")),plus.ios.deleteObject(t),e}function c(){var e=!1,t=plus.ios.import("AVCaptureDevice"),i=t.authorizationStatusForMediaType("vide");return console.log("authStatus:"+i),3==i?(e=!0,console.log("相机权限已经开启")):console.log("相机权限没有开启"),plus.ios.deleteObject(t),e}function r(){var e=!1,t=plus.ios.import("PHPhotoLibrary"),i=t.authorizationStatus();return console.log("authStatus:"+i),3==i?(e=!0,console.log("相册权限已经开启")):console.log("相册权限没有开启"),plus.ios.deleteObject(t),e}function l(){var e=!1,t=plus.ios.import("CNContactStore"),i=t.authorizationStatusForEntityType(0);return 3==i?(e=!0,console.log("通讯录权限已经开启")):console.log("通讯录权限没有开启"),plus.ios.deleteObject(t),e}function d(){var e=!1,t=plus.ios.import("EKEventStore"),i=t.authorizationStatusForEntityType(0);return 3==i?(e=!0,console.log("日历权限已经开启")):console.log("日历权限没有开启"),plus.ios.deleteObject(t),e}function g(){var e=!1,t=plus.ios.import("EKEventStore"),i=t.authorizationStatusForEntityType(1);return 3==i?(e=!0,console.log("备忘录权限已经开启")):console.log("备忘录权限没有开启"),plus.ios.deleteObject(t),e}function u(e){return new Promise((function(t,i){plus.android.requestPermissions([e],(function(e){for(var i=0,o=0;o<e.granted.length;o++){var a=e.granted[o];console.log("已获取的权限："+a),i=1}for(o=0;o<e.deniedPresent.length;o++){var n=e.deniedPresent[o];console.log("拒绝本次申请的权限："+n),i=0}for(o=0;o<e.deniedAlways.length;o++){var s=e.deniedAlways[o];console.log("永久拒绝申请的权限："+s),i=-1}t(i)}),(function(e){console.log("申请权限错误："+e.code+" = "+e.message),t({code:e.code,message:e.message})}))}))}function b(e){return"location"==e?n():"camera"==e?c():"photoLibrary"==e?r():"record"==e?s():"push"==e?a():"contact"==e?l():"calendar"==e?d():"memo"==e&&g()}function m(){if(o){var e=plus.ios.import("UIApplication"),t=e.sharedApplication(),i=plus.ios.import("NSURL"),a=i.URLWithString("app-settings:");t.openURL(a),plus.ios.deleteObject(a),plus.ios.deleteObject(i),plus.ios.deleteObject(t)}else{var n=plus.android.importClass("android.content.Intent"),s=plus.android.importClass("android.provider.Settings"),c=plus.android.importClass("android.net.Uri"),r=plus.android.runtimeMainActivity(),l=new n;l.setAction(s.ACTION_APPLICATION_DETAILS_SETTINGS);var d=c.fromParts("package",r.getPackageName(),null);l.setData(d),r.startActivity(l)}}function p(){if(o){var e=!1,t=plus.ios.import("CLLocationManager");e=t.locationServicesEnabled();return console.log("系统定位开启:"+e),plus.ios.deleteObject(t),e}var i=plus.android.importClass("android.content.Context"),a=plus.android.importClass("android.location.LocationManager"),n=plus.android.runtimeMainActivity(),s=n.getSystemService(i.LOCATION_SERVICE);e=s.isProviderEnabled(a.GPS_PROVIDER);return console.log("系统定位开启:"+e),e}i("d3b7"),e.exports={judgeIosPermission:b,requestAndroidPermission:u,checkSystemEnableLocation:p,gotoAppPermissionSetting:m}},4465:function(e,t,i){"use strict";var o=i("73a6"),a=i.n(o);a.a},"5dc0":function(e,t,i){"use strict";i.r(t);var o=i("b088"),a=i.n(o);for(var n in o)"default"!==n&&function(e){i.d(t,e,(function(){return o[e]}))}(n);t["default"]=a.a},"71fa":function(e,t,i){"use strict";var o;i.d(t,"b",(function(){return a})),i.d(t,"c",(function(){return n})),i.d(t,"a",(function(){return o}));var a=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("v-uni-view",[o("v-uni-view",{staticClass:"content",on:{touchstart:function(t){arguments[0]=t=e.$handleEvent(t),e.hideDrawer.apply(void 0,arguments)}}},[o("v-uni-scroll-view",{staticClass:"msg-list",attrs:{"scroll-y":"true","scroll-with-animation":e.scrollAnimation,"scroll-top":e.scrollTop,"scroll-into-view":e.scrollToView,"upper-threshold":"50"},on:{scrolltoupper:function(t){arguments[0]=t=e.$handleEvent(t),e.loadHistory.apply(void 0,arguments)}}},[e.isHistoryLoading?o("v-uni-view",{staticClass:"loading"},[o("v-uni-view",{staticClass:"spinner"},[o("v-uni-view",{staticClass:"rect1"}),o("v-uni-view",{staticClass:"rect2"}),o("v-uni-view",{staticClass:"rect3"}),o("v-uni-view",{staticClass:"rect4"}),o("v-uni-view",{staticClass:"rect5"})],1)],1):e._e(),e._l(e.messageList,(function(t,a){return o("v-uni-view",{key:a,staticClass:"row",attrs:{id:"msg"+t.id}},[1==t.creator?o("v-uni-view",{staticClass:"my"},[o("v-uni-view",{staticClass:"left"},[1==t.type?o("v-uni-view",{staticClass:"bubble"},[o("v-uni-rich-text",{attrs:{nodes:t.message}})],1):e._e(),2==t.type?o("v-uni-view",{staticClass:"bubble img",on:{click:function(i){arguments[0]=i=e.$handleEvent(i),e.showPic(t.message)}}},[o("v-uni-image",{attrs:{"lazy-load":!0,mode:"aspectFill",src:t.message+"?x-oss-process=image/resize,l_150"}})],1):e._e(),3==t.type?o("v-uni-view",{staticClass:"bubble voice",class:e.playMsgid==t.id?"play":"",on:{click:function(i){arguments[0]=i=e.$handleEvent(i),e.playVoice(t.message,t.id)}}},[o("v-uni-view",{staticClass:"length"},[e._v(e._s(t.second)+"''")]),o("v-uni-view",{staticClass:"icon my-voice"})],1):e._e(),4==t.type?o("v-uni-view",{staticClass:"bubble video"},[o("v-uni-view",{staticStyle:{position:"relative"},on:{click:function(i){arguments[0]=i=e.$handleEvent(i),e.toVideo(t.message)}}},[o("v-uni-image",{staticStyle:{"border-radius":"12rpx",width:"250rpx",height:"300rpx"},attrs:{src:t.message+"?x-oss-process=video/snapshot,t_1000,m_fast",mode:"aspectFill"}}),o("v-uni-view",{staticStyle:{width:"100%",height:"100%",position:"absolute",top:"0%",left:"0%",display:"flex","flex-direction":"column","align-items":"center","justify-content":"center"},on:{click:function(i){arguments[0]=i=e.$handleEvent(i),e.toVideo(t.message)}}},[o("v-uni-image",{staticStyle:{width:"50rpx",height:"50rpx"},attrs:{src:i("1df8"),mode:"aspectFill"}})],1)],1)],1):e._e(),5==t.type?o("v-uni-view",{staticClass:"bubble"},[e._v("订单")]):e._e()],1),o("v-uni-view",{staticClass:"right"},[o("v-uni-image",{staticStyle:{"border-radius":"100rpx"},attrs:{mode:"aspectFill",src:null==e.imageUrl?"../../static/image/icon_tx_nor.png":e.imageUrl}})],1)],1):e._e(),0==t.creator?o("v-uni-view",{staticClass:"other"},[o("v-uni-view",{staticClass:"right"},[o("v-uni-view",{staticClass:"right-time"},[e._v(e._s(t.createTime))]),o("v-uni-view",{staticClass:"other"},[o("v-uni-view",{staticClass:"left"},[o("v-uni-image",{staticStyle:{"border-radius":"100rpx"},attrs:{src:e.img}})],1),1==t.type?o("v-uni-view",{staticClass:"bubble"},[o("v-uni-rich-text",{attrs:{nodes:t.message.replace(/\n/g,"<br>")}})],1):e._e(),2==t.type?o("v-uni-view",{staticClass:"bubble img",on:{click:function(i){arguments[0]=i=e.$handleEvent(i),e.showPic(t.message)}}},[o("v-uni-image",{attrs:{"lazy-load":!0,mode:"aspectFill",src:t.message+"?x-oss-process=image/resize,l_150"}})],1):e._e(),3==t.type?o("v-uni-view",{staticClass:"bubble voice",class:e.playMsgid==t.id?"play":"",on:{click:function(i){arguments[0]=i=e.$handleEvent(i),e.playVoice(t.message,t.id)}}},[o("v-uni-view",{staticClass:"icon other-voice"}),o("v-uni-view",{staticClass:"length"},[e._v(e._s(t.second)+"''")])],1):e._e(),4==t.type?o("v-uni-view",{staticClass:"bubble video"},[o("v-uni-view",{staticStyle:{position:"relative"},on:{click:function(i){arguments[0]=i=e.$handleEvent(i),e.toVideo(t.message)}}},[o("v-uni-image",{staticStyle:{"border-radius":"12rpx",width:"250rpx",height:"300rpx"},attrs:{src:t.message+"?x-oss-process=video/snapshot,t_1000,m_fast",mode:"aspectFill"}}),o("v-uni-view",{staticStyle:{width:"100%",height:"100%",position:"absolute",top:"0%",left:"0%",display:"flex","flex-direction":"column","align-items":"center","justify-content":"center"},on:{click:function(i){arguments[0]=i=e.$handleEvent(i),e.toVideo(t.message)}}})],1)],1):e._e()],1)],1)],1):e._e()],1)}))],2)],1),o("v-uni-view",{staticClass:"popup-layer",class:e.popupLayerClass,on:{touchmove:function(t){t.stopPropagation(),t.preventDefault(),arguments[0]=t=e.$handleEvent(t),e.discard.apply(void 0,arguments)}}},[o("v-uni-view",{staticClass:"more-layer",class:{hidden:e.hideMore}},[o("v-uni-view",{staticClass:"list"},[o("v-uni-view",{staticClass:"bottm-tu-txt",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.getImage.apply(void 0,arguments)}}},[o("v-uni-view",{staticClass:"box"},[o("v-uni-image",{staticStyle:{width:"50rpx",height:"40rpx"},attrs:{src:i("9703"),mode:"aspectFill"}})],1),o("v-uni-view",{staticClass:"more-txt"},[e._v("图片")])],1),o("v-uni-view",{staticClass:"bottm-tu-txt",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.getVideo.apply(void 0,arguments)}}},[o("v-uni-view",{staticClass:"box"},[o("v-uni-image",{staticStyle:{width:"50rpx",height:"40rpx"},attrs:{src:i("fbdc"),mode:"aspectFill"}})],1),o("v-uni-view",{staticClass:"more-txt"},[e._v("视频")])],1)],1)],1)],1),o("v-uni-view",{staticClass:"input-box",class:e.popupLayerClass,on:{touchmove:function(t){t.stopPropagation(),t.preventDefault(),arguments[0]=t=e.$handleEvent(t),e.discard.apply(void 0,arguments)}}},[o("v-uni-view",{staticClass:"textbox"},[o("v-uni-view",{staticClass:"voice-mode",class:[e.isVoice?"":"hidden",e.recording?"recording":""],on:{touchstart:function(t){arguments[0]=t=e.$handleEvent(t),e.voiceBegin.apply(void 0,arguments)},touchmove:function(t){t.stopPropagation(),t.preventDefault(),arguments[0]=t=e.$handleEvent(t),e.voiceIng.apply(void 0,arguments)},touchend:function(t){arguments[0]=t=e.$handleEvent(t),e.voiceEnd.apply(void 0,arguments)},touchcancel:function(t){arguments[0]=t=e.$handleEvent(t),e.voiceCancel.apply(void 0,arguments)}}},[e._v(e._s(e.voiceTis))]),o("v-uni-view",{staticClass:"text-mode",class:e.isVoice?"hidden":""},[o("v-uni-view",{staticClass:"box"},[o("v-uni-textarea",{attrs:{"cursor-spacing":"20",focus:e.focus,"auto-height":"true"},on:{focus:function(t){arguments[0]=t=e.$handleEvent(t),e.textareaFocus.apply(void 0,arguments)}},model:{value:e.textMsg,callback:function(t){e.textMsg=t},expression:"textMsg"}})],1)],1)],1),o("v-uni-view",{staticClass:"send",class:e.isVoice?"hidden":"",on:{touchend:function(t){t.preventDefault(),arguments[0]=t=e.$handleEvent(t),e.sendText.apply(void 0,arguments)}}},[o("v-uni-view",{staticClass:"btn"},[e._v("发送")])],1)],1),o("v-uni-view",{staticClass:"record",class:e.recording?"":"hidden"},[o("v-uni-view",{staticClass:"ing",class:e.willStop?"hidden":""},[o("v-uni-view",{staticClass:"icon luyin2"})],1),o("v-uni-view",{staticClass:"cancel",class:e.willStop?"":"hidden"},[o("v-uni-view",{staticClass:"icon chehui"})],1),o("v-uni-view",{staticClass:"tis",class:e.willStop?"change":""},[e._v(e._s(e.recordTis))])],1)],1)},n=[]},"73a6":function(e,t,i){var o=i("3242");"string"===typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);var a=i("4f06").default;a("0cd656c7",o,!0,{sourceMap:!1,shadowMode:!1})},"8dcf":function(e,t,i){"use strict";i.r(t);var o=i("71fa"),a=i("5dc0");for(var n in a)"default"!==n&&function(e){i.d(t,e,(function(){return a[e]}))}(n);i("4465");var s,c=i("f0c5"),r=Object(c["a"])(a["default"],o["b"],o["c"],!1,null,"a2e9cc70",null,!1,o["a"],s);t["default"]=r.exports},9703:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADQAAAA0CAMAAADypuvZAAAAflBMVEUAAAAQvmIQvmIQvmIQvmIQvmIQvmIQvmIQvmIQvmIQvmIQvmIQvmIQvmIQvmIQvmIQvmIQvmIQvmIQvmIQvmIQvmIQvmIQvmIQvmIQvmIQvmIQvmIQvmIQvmIQvmIQvmIQvmIQvmIQvmIQvmIQvmIQvmIQvmIQvmIQvmIQvmL1F4DfAAAAKXRSTlMAGh1/DwuNFQUSomAz16wtdyYi+c6pW1U65+OxncC4iYRpP/LGmUncRVEoui0AAAGhSURBVEjH7dXLkqowEIDhdEzstAYBuaogFy9z+v1f8ARnAyIiu5mq+RdUQeqjexfx1+9pf+IPOu0H6MzxaraYz9RH7O0/WMfjdoAK9zBavU1sOB2gjTMo3ycS3hoyfeQMyG5nhInEySGp+kg7Y+ztVEs1hdx6BuAJaVsy8y2cmEV56o7kExI1d931aySVQRij4oEyh6YaI9NEzhxbtQQh1hEfUoQlCFDmrYVlyCkiAliIun4CQnyHEHEECKVv5RRCcqehJMK+2Pv3+sCZfomI9nngRWV9tyGoDpLC0Ga3A3PEWzNGqMHPNsyX44X5kDStLwn8vDlF7jVeXccIlO6GMB93qd0Wsfs1x+s0uLL7dK3+kUhGSOD3kLiyWqHSqg123sWByDsH1mgCsXtChbDdkK/dlgzCI9JGZusyaUKhu09jVAbM0bWybsteqI0wD/ESHb1jsiWhYLox2vm56fZahAohJMwkkhHSy5EnxWz+F2cODS6A9fuqyuMyJIeWXTXnXEMPCZUGq7ma0BmHlqWgS/QjCR8k9QAZkvOBEn/9nv4DljA0liU9LPgAAAAASUVORK5CYII="},b088:function(e,t,i){"use strict";var o=i("4ea4");i("99af"),i("26e9"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,i("96cf");var a=o(i("1da1")),n=o(i("40b6")),s={data:function(){return{platform:"",isJurisdiction:"",account:"",id:"",img:"",name:"",pageNum:1,pageSize:15,imageUrl:null,messageList:[],textMsg:"",isHistoryLoading:!1,scrollAnimation:!0,scrollTop:0,scrollToView:"",msgList:[],msgImgList:[],myuid:0,isVoice:!1,voiceTis:"按住 说话",recordTis:"手指上滑 取消发送",recording:!1,willStop:!1,initPoint:{identifier:0,Y:0},recordTimer:null,recordLength:0,AUDIO:uni.createInnerAudioContext(),playMsgid:null,VoiceTimer:null,popupLayerClass:"",hideMore:!0,focus:!1}},onLoad:function(e){var t=this;return(0,a.default)(regeneratorRuntime.mark((function i(){var o,a;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:t.id=uni.getStorageSync(t.KFCHATID),t.getMessageData(),t.name=e.name,t.img=JSON.parse(decodeURIComponent(e.img)),console.log("自己头像"+uni.getStorageSync(t.HEADIMG)),t.imageUrl=uni.getStorageSync(t.HEADIMG),console.log("接收："+t.name+t.img),uni.setNavigationBarTitle({title:t.name}),o=uni.getStorageSync(t.id+""),t.$u.test.isEmpty(o)||(t.messageList=o,console.log("获取到缓存的数据2"),console.log(t.messageList),t.$nextTick((function(){this.scrollTop=9999,this.$nextTick((function(){this.scrollAnimation=!0}))}))),t.AUDIO.onEnded((function(e){t.playMsgid=null})),t.platform=uni.getSystemInfoSync().platform,"ios"==t.platform?(console.log("我是iOS"),t.isJurisdiction=n.default.judgeIosPermission("record")):"android"==t.platform&&console.log("我是安卓"),a=t,uni.$on(t.SOCKETKFCHAT,(function(e){console.log("kf患者收到服务器通知："+e);var t=JSON.parse(e);0==t[0].creator&&(console.log("当前集合："+a.messageList),a.messageList=a.messageList.concat(t),console.log("滚动到最下面的id"),console.log(t[0].id),a.$nextTick((function(){a.scrollToView="msg"+t[0].id,a.$nextTick((function(){a.scrollAnimation=!0}))})),2==t[0].type&&a.msgImgList.push(t[0].content))})),uni.onKeyboardHeightChange((function(e){console.log("软键盘高度监听"+e.height),0==e.height&&(t.focus=!1,t.hideDrawer())}));case 16:case"end":return i.stop()}}),i)})))()},onShow:function(){this.scrollTop=9999999},onHide:function(){this.hideDrawer()},onUnload:function(){uni.$off(this.SOCKETKFCHAT)},methods:{getMessageData:function(){var e=this;this.$u.get(this.ChattingChatRecordUrl,{id:this.id,pageNum:this.pageNum,pageSize:this.pageSize}).then((function(t){if(!e.$u.test.isEmpty(t.data.list)){var i=t.data.list.reverse();e.messageList=i,console.log("去22缓存的数据"),console.log(e.id+e.messageList),uni.setStorageSync(e.id+"",e.messageList),console.log("去缓存的数据"),console.log(e.messageList);for(var o=0;o<i.length;o++)2==i[o].type&&e.msgImgList.push(i[o].message);e.$nextTick((function(){this.scrollTop=9999,this.$nextTick((function(){this.scrollAnimation=!0}))}))}})).catch((function(t){1==t.data.status&&(console.log(t.data.msg),e.isHistoryLoading=!1)}))},toVideo:function(e){uni.navigateTo({url:"../video/big-video?videoUrl="+e+"&title=视频"})},getVideo:function(){var e=this;this.hideDrawer(),uni.chooseVideo({maxDuration:60,count:1,success:function(t){var i=t.tempFilePath;console.log("要上传的视频"),console.log(i),e.postVideo(i)}})},postVideo:function(e){var t=this,i=this;uni.showLoading(),uni.uploadFile({url:this.websocketOtherSendUrl,filePath:e,name:"file",header:{"Content-Type":"application/json",token:uni.getStorageSync("token")},formData:{type:4,chattingId:i.id},success:function(e){uni.hideLoading(),console.log("成功"),console.log(e),console.log(JSON.parse(e.data));var o=JSON.parse(e.data);0==o.status?(console.log("上传视频成功"),i.getNewData()):1==o.status&&t.$u.toast(o.msg)}})},loadHistory:function(e){var t=this;if(!this.isHistoryLoading){this.pageNum++,this.isHistoryLoading=!0,this.scrollAnimation=!1;var i=this.messageList[0].id;this.$u.get(this.ChattingChatRecordUrl,{id:this.id,pageNum:this.pageNum,pageSize:this.pageSize}).then((function(e){t.isHistoryLoading=!1;for(var o=e.data.list,a=0;a<o.length;a++)2==o[a].type&&t.msgImgList.push(o[a].content),t.messageList.unshift(o[a]);console.log("所有消息"),console.log(t.messageList),t.$nextTick((function(){this.scrollToView="msg"+i,this.$nextTick((function(){this.scrollAnimation=!0}))}))})).catch((function(e){4==e.data.status&&(t.$u.toast("已加载全部消息"),t.isHistoryLoading=!1)}))}},showMore:function(){this.isVoice=!1,this.hideMore?(this.hideMore=!1,this.openDrawer()):this.hideDrawer()},openDrawer:function(){this.popupLayerClass="showLayer"},hideDrawer:function(){var e=this;this.popupLayerClass="",setTimeout((function(){e.hideMore=!0}),150)},getImage:function(){this.hideDrawer();var e=this;uni.chooseImage({count:1,sizeType:["compressed"],success:function(t){console.log(JSON.stringify(t.tempFilePaths[0])),console.log(e.id),e.sendImg(t.tempFilePaths[0])}})},sendImg:function(e){var t=this,i=this;uni.showLoading(),uni.uploadFile({url:this.websocketOtherSendUrl,filePath:e,name:"file",header:{"Content-Type":"application/json",token:uni.getStorageSync("token")},formData:{type:2,chattingId:i.id},success:function(e){uni.hideLoading(),console.log("成功"),console.log(e),console.log(JSON.parse(e.data));var o=JSON.parse(e.data);0==o.status?(console.log("上传成功"),i.getNewData()):1==o.status&&t.$u.toast(o.msg)}})},textareaFocus:function(){this.focus=!0,"showLayer"==this.popupLayerClass&&this.hideDrawer()},sendText:function(){this.textMsg&&(this.sendMsg(this.textMsg),this.textMsg="")},sendMsg:function(e){var t=this;console.log("要发送的信息"),console.log(e),this.$u.post(this.websocketOtherSendUrl,{message:e,type:1,chattingId:this.id}).then((function(e){t.getNewData(),console.log("发送消息成功"),console.log(e)})).catch((function(e){t.$u.toast(e.data.msg)}))},getNewData:function(){var e=this;console.log("开始获取第一条消息"),this.$u.get(this.ChattingChatRecordUrl,{id:this.id,pageNum:1,pageSize:1}).then((function(t){uni.hideLoading();var i=t.data.list;console.log("最新获取到的消息"),console.log(i),e.messageList=e.messageList.concat(i),console.log("滚动到最下面的id"),console.log(i[0].id),e.$nextTick((function(){this.scrollToView="msg"+i[0].id,this.$nextTick((function(){this.scrollAnimation=!0}))})),2==i[0].type&&e.msgImgList.push(i[0].message),0==i[0].creator&&uni.vibrateLong()}))},showPic:function(e){uni.previewImage({indicator:"none",current:e,urls:this.msgImgList})},playVoice:function(e,t){this.playMsgid=t,this.AUDIO.src=e,this.$nextTick((function(){this.AUDIO.play()}))},voiceBegin:function(e){console.log("开始录制"),console.log(e),e.touches.length>1||(this.initPoint.Y=e.touches[0].clientY,this.initPoint.identifier=e.touches[0].identifier,this.RECORDER.start({format:"mp3"}))},recordBegin:function(e){var t=this;this.recording=!0,this.voiceTis="松开 结束",this.recordLength=0,this.recordTimer=setInterval((function(){t.recordLength++}),1e3)},voiceCancel:function(){this.recording=!1,this.voiceTis="按住 说话",this.recordTis="手指上滑 取消发送",this.willStop=!0,this.RECORDER.stop()},voiceIng:function(e){if(this.recording){var t=e.touches[0];this.initPoint.Y-t.clientY>=uni.upx2px(100)?(this.willStop=!0,this.recordTis="松开手指 取消发送"):(this.willStop=!1,this.recordTis="手指上滑 取消发送")}},voiceEnd:function(e){this.recording&&(this.recording=!1,this.voiceTis="按住 说话",this.recordTis="手指上滑 取消发送",this.RECORDER.stop())},recordEnd:function(e){var t=this,i=this;if(clearInterval(this.recordTimer),this.willStop)console.log("取消发送录音");else{if(console.log("要上传的语音"),console.log(e.tempFilePath),console.log("要上传语音的时长"),console.log(this.recordLength),this.recordLength<1)return void this.$u.toast("时间过短，请重新录制");uni.uploadFile({url:this.websocketOtherSendUrl,method:"POST",filePath:e.tempFilePath,name:"file",header:{"Content-Type":"application/json",token:uni.getStorageSync("token")},formData:{type:3,chattingId:i.id},success:function(e){uni.hideLoading(),console.log("成功"),console.log(e),console.log(JSON.parse(e.data));var o=JSON.parse(e.data);0==o.status?(console.log("上传语音成功"),i.getNewData()):1==o.status&&t.$u.toast(o.msg)}})}this.willStop=!1},switchVoice:function(){this.hideDrawer(),this.isVoice=!this.isVoice},discard:function(){}}};t.default=s},fbdc:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADQAAAA0CAMAAADypuvZAAAAhFBMVEUAAAAQvmIQvmIQvmIQvmIQvmIQvmIQvmIQvmIQvmIQvmIQvmIQvmIQvmIQvmIQvmIQvmIQvmIQvmIQvmIQvmIQvmIQvmIQvmIQvmIQvmIQvmIQvmIQvmIQvmIQvmIQvmIQvmIQvmIQvmIQvmIQvmIQvmIQvmIQvmIQvmIQvmIQvmIQvmJlX8qCAAAAK3RSTlMAGh0PCIDBjX0UF0THZwUMHqMm6uWnvWQ03s6YkHI6LirVs2xeV07yr5NHi24vJAAAAa5JREFUSMft1clyozAQgOFuJDvuti32JRjwbifp93+/QQqTTIYl4ZKqVOU/wAG+aqgCCX77GVEq05XrPtrJ42KqJ4mjHpJkD1OZVBbQpS+5/4oyaPPVWHCVEAzYmpNIqBxaAhj2RoOtpMAaALaJZInsO2Qo8AgAyMN+LQohIMBQ5IGyN6Q9T0fVqYr0GFLmWkpyBcikMP4rCtThSUTSSI0gru6SHgBgKWuFyiH74LYcBlEVLUVqBX8Rdqh2qB5Gj6Uc15YY2PyD9C1uTXzTg0hk517f5w+IKY8lzhUPoiRn8sEQ4geEhEVTtMd+5lwWRIFvGP9HyKSIcSA+FPYCM/bQRMzomoFs34WY5iOO9sRzkTlvCqJ5yH1GF1Kzkchz5NPcSUcpb0rNQu2cjcgKNc9BIeDzXU6NVrOQMpejJNt5qD3ZBWGHS3n5EsotCnwwq1g2cTcp+wRdJHUI4GXZDovIouQAU+FJqg5BcD67H9VtAA8TZXJvfItcht10TmW641XjG9LsWQTmVi9W49WN5ncEhpA1fJqPbd77jdqASwU4XUDQT6E3UeCRgd9+Xn8A0Ss7kJ6dBagAAAAASUVORK5CYII="}}]);