(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["common/main"],{"52e3":function(t,e,o){"use strict";(function(t){o("77c6");var e=u(o("66fd")),r=u(o("f785")),p=u(o("83ef")),l=u(o("1477")),a=u(o("7de0")),d=o("5f97"),s=u(o("b4dd"));function u(t){return t&&t.__esModule?t:{default:t}}function i(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,r)}return o}function f(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?i(Object(o),!0).forEach((function(e){n(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):i(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function n(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}e.default.config.productionTip=!1,r.default.mpType="app",e.default.use(l.default),e.default.use(a.default),e.default.prototype.$dianji=d.dianji,e.default.prototype.onoff=!0,e.default.prototype.NAME="name",e.default.prototype.ID="id",e.default.prototype.ISLOGIN="isLogin",e.default.prototype.READ="read",e.default.prototype.IPHONE="iPhone",e.default.prototype.TOKEN="token",e.default.prototype.IDCARD="idCard",e.default.prototype.ISID="isId",e.default.prototype.HEADIMG="headImg",e.default.prototype.DDD="dds",e.default.prototype.CLINICNAME="clinicName",e.default.prototype.SEARCHSECORD="searchRecord",e.default.prototype.MESSAGELIST="messageList",e.default.prototype.MYDOCTORLIST="myDoctorList",e.default.prototype.SORTLIST="sortList",e.default.prototype.TYPELIST="typeList",e.default.prototype.GOODSLIST="goodsList",e.default.prototype.DEVICETYPE="deviceType",e.default.prototype.SESSIONKEY="sessionKey",e.default.prototype.KFCHATID="kfChatId",e.default.prototype.PUSHMSG="pushMsg",e.default.prototype.PUSHRECEIVE="pushReceive",e.default.prototype.UPDATEID="updateId",e.default.prototype.UPPATIENT="upPatient",e.default.prototype.UPDATEUSER="updateUser",e.default.prototype.SUBMITNEED="submitNeed",e.default.prototype.UPDATEUSERADDRESS="updateUserAddress",e.default.prototype.UPDATEADDRESS="updateAddress",e.default.prototype.UPDATEADDRESSLIST="updateAddressList",e.default.prototype.ISSHOWFIRSTDATA="isShowFirstData",e.default.prototype.UPADMINISTRATIONLIST="upAdministrationList",e.default.prototype.UPADDRESS="upAddress",e.default.prototype.UPCARTADDRESS="upCartAddress",e.default.prototype.ADDADDRESS="addAddress",e.default.prototype.CONFIRMADDRESS="confirmAddress",e.default.prototype.ADDPATIENT="addPatient",e.default.prototype.NEEDADDPATIENT="needAddPatient",e.default.prototype.ADDPEOPLE="addPeople",e.default.prototype.PRESCRIPTIONPATIENT="prescriptionPatient",e.default.prototype.PRESCRIPTIONPATIENTT="prescriptionPatientT",e.default.prototype.UPRESULTPATIENT="upResultPatient",e.default.prototype.UPRESULTPATIENTT="upResultPatientT",e.default.prototype.UPIPHONE="upIphone",e.default.prototype.INFORMGOODSLIST="informGoodsList",e.default.prototype.INFORMGOODSLISTADRESS="informGoodsListAddress",e.default.prototype.INFORMGOODSLISTPAY="informGoodsListPay",e.default.prototype.INFORMTAKE="informTake",e.default.prototype.INFORMORDERDELETE="informOrderDelete",e.default.prototype.INFORMORDERREASONS="informOrderReasons",e.default.prototype.INFORMREGISTRATION="informRegistration",e.default.prototype.INFORMORDERREFUNND="informOrderRefund",e.default.prototype.INFORMNOREAD="informNoRead",e.default.prototype.INFORMXTNOREAD="informXtNoRead",e.default.prototype.INFORMNEEDCOUNT="informNeedCount",e.default.prototype.INFORMCHATLIST="informChatList",e.default.prototype.INFORMCHATGOODS="informChatGoods",e.default.prototype.INFORMCHATUPGOODS="informChatUpGoods",e.default.prototype.INFORMLOGIN="informLogin",e.default.prototype.INFORMBACKLOGIN="informBackLogin",e.default.prototype.INFORMBACKLOGINWX="informBackLoginWX",e.default.prototype.INFORMBACKLOGINME="informBackLoginMe",e.default.prototype.INFORMBACKLOGINWXME="informBackLoginWXMe",e.default.prototype.LOGINSOCKET="loginSocket",e.default.prototype.SOCKETKFCHAT="SocketKfChat",e.default.prototype.SOCKETCHAT="SocketChat",e.default.prototype.ServerUrl="https://www.hzsysf.com/mall/",e.default.prototype.shopDetailPath="https://www.hzsysf.com/sfb/#/pages/shop-details/shop-details?id=",e.default.prototype.h5APPPath="https://www.hzsysf.com/download/sfb.apk",e.default.prototype.AppStorePath="https://itunes.apple.com/cn/app/shangyishangfang/id1538912306",e.default.prototype.VersionPlatformUrl="version/platform",e.default.prototype.miniWXKeyUrl="mini/wx1ff35ed99cbee82d/key",e.default.prototype.miniWXInfoUrl="mini/wx1ff35ed99cbee82d/info",e.default.prototype.miniWXPhoneUrl="mini/wx1ff35ed99cbee82d/phone",e.default.prototype.customerWXPhoneUrl="customer/mini/phone",e.default.prototype.appleLoginUrl="customer/login/apple",e.default.prototype.VersionLawUrl="version/law",e.default.prototype.CustomerInfoUrl="customer/info",e.default.prototype.appKfUrl="app/kf",e.default.prototype.getCodeUrl="phone/code",e.default.prototype.loginUrl="customer/login",e.default.prototype.WXLoginUrl="customer/login/wx",e.default.prototype.recommendUrl="recommend/list",e.default.prototype.myDoctorListUrl="doc/list/my",e.default.prototype.doctorListUrl="doc/list",e.default.prototype.myDoctorDetailUrl="doc/detail",e.default.prototype.customerAuthUrl="customer/auth",e.default.prototype.firstListUrl="first/list",e.default.prototype.firstDocsUrl="first/docs",e.default.prototype.docAddressUrl="doc/address",e.default.prototype.firstShowUrl="first/show",e.default.prototype.socket="",e.default.prototype.socketLocal=function(t){return e.default.prototype.socket=(0,p.default)("http://47.103.104.99:8077?user="+t,{transports:["websocket"]}),e.default.prototype.socket},e.default.prototype.sendChatUrl=e.default.prototype.ServerUrl+"send/chat",e.default.prototype.customerMsgChatsUrl="customer/msg/chats",e.default.prototype.customerMsgChatDeleteUrl="customer/msg/chat/delete",e.default.prototype.customerMsgRecordUrl="customer/msg/record",e.default.prototype.customerMsgCountUrl="customer/msg/count",e.default.prototype.departmentSortListUrl="department/sort/list",e.default.prototype.goodsListUrl="goods/list",e.default.prototype.goodsDetailUrl="goods/detail",e.default.prototype.goodsSortUrl="goods/sort",e.default.prototype.cartListUrl="cart/list",e.default.prototype.cartAddUrl="cart/add",e.default.prototype.cartCountUrl="cart/count",e.default.prototype.cartUpdateUrl="cart/update",e.default.prototype.cartSelectUrl="cart/select",e.default.prototype.cartSelectAllUrl="cart/select/all",e.default.prototype.needListUrl="need/list",e.default.prototype.needCountUrl="need/count",e.default.prototype.needUpdateUrl="need/update",e.default.prototype.needDeleteUrl="need/delete",e.default.prototype.needAddUrl="need/add",e.default.prototype.needSubmitSymptomUrl="need/submit/symptom",e.default.prototype.needSubmitPayUrl="need/submit/pay",e.default.prototype.patientListUrl="patient/list",e.default.prototype.patientDefaultUrl="patient/default",e.default.prototype.patientAddUrl="patient/add",e.default.prototype.utilUploadUrl=e.default.prototype.ServerUrl+"util/upload",e.default.prototype.addressDefaultUrl="address/default",e.default.prototype.addressListUrl="address/list",e.default.prototype.addressAddUrl="address/add",e.default.prototype.addressDefaultSetUrl="address/default/set",e.default.prototype.addressUpdateUrl="address/update",e.default.prototype.caseListUrl="case/list",e.default.prototype.caseDetailUrl="case/detail",e.default.prototype.caseSetDetailUrl="case/set/detail",e.default.prototype.caseSetPatientUrl="case/set/patient",e.default.prototype.orderCaseSubmitUrl="order/case/submit",e.default.prototype.customerMsgCountUrl="customer/msg/count",e.default.prototype.firstListUrl="first/list",e.default.prototype.firstUploadUrl=e.default.prototype.ServerUrl+"first/upload",e.default.prototype.orderCartCreateUrl="order/cart/create",e.default.prototype.questionDetailUrl="question/detail",e.default.prototype.questionSubmitUrl="question/submit",e.default.prototype.reviewDetailUrl="review/detail",e.default.prototype.reviewListUrl="review/list",e.default.prototype.reviewDeleteUrl="review/delete",e.default.prototype.reviewCancelUrl="review/cancel",e.default.prototype.firstPatientsUrl="first/patients",e.default.prototype.customerMsgBroadcastUrl="customer/msg/broadcast",e.default.prototype.payAliRegistrationUrl="pay/registration",e.default.prototype.freeRegistrationUrl="registration/free",e.default.prototype.resultRegistrationUrl="registration/result",e.default.prototype.patientRegistrationUrl="registration/patient",e.default.prototype.listRegistrationUrl="registration/list",e.default.prototype.imgListUrl="img/list",e.default.prototype.imgDetailUrl="img/detail",e.default.prototype.customerAvatarUrl=e.default.prototype.ServerUrl+"customer/avatar",e.default.prototype.customerPhoneCodeUrl="customer/phone/code",e.default.prototype.customerPhoneUrl="customer/phone",e.default.prototype.orderGoodsCreateUrl="order/goods/create",e.default.prototype.orderResultUrl="order/result",e.default.prototype.orderPayUrl="order/pay",e.default.prototype.customerBindPhoneUrl="customer/bind/phone",e.default.prototype.needSubmitListUrl="need/submit/list",e.default.prototype.scanContentUrl="scan/content",e.default.prototype.orderListUrl="order/list",e.default.prototype.orderDetailUrl="order/detail",e.default.prototype.orderRefundApplyUrl="order/refund/apply",e.default.prototype.expressDetailUrl="express/detail",e.default.prototype.orderCancelUrl="order/cancel",e.default.prototype.orderDeleteUrl="order/delete",e.default.prototype.orderSendTipUrl="order/send/tip",e.default.prototype.orderAddressUrl="order/address",e.default.prototype.expressDetailUrl="express/detail",e.default.prototype.orderReceiveUrl="order/receive",e.default.prototype.orderReasonsUrl="order/reasons",e.default.prototype.orderRefundApplyUrl="order/refund/apply",e.default.prototype.crrDetailUrl="crr/detail",e.default.prototype.searchListUrl="search/list",e.default.prototype.registrationRefundUrl="registration/refund",e.default.prototype.symptomListUrl="symptom/list",e.default.prototype.orderRefundExpressUrl="order/refund/express",e.default.prototype.expressListUrl="express/list",e.default.prototype.orderRefundDetailUrl="order/refund/detail",e.default.prototype.customerMsgHelpsUrl="customer/msg/helps",e.default.prototype.customerMsgReadUrl="customer/msg/read",e.default.prototype.customerMsgReadsUrl="customer/msg/reads",e.default.prototype.orderCountUrl="order/count",e.default.prototype.questionInterDetailUrl="question/inter/detail",e.default.prototype.questionInterAnswerUrl="question/inter/answer",e.default.prototype.reviewDeleteUrl="review/delete",e.default.prototype.reviewCancelUrl="review/cancel",e.default.prototype.cartDeleteUrl="cart/delete",e.default.prototype.caseCaseBillUrl="case/case/bill",e.default.prototype.docInfoUrl="doc/info",e.default.prototype.versionUrl="version",e.default.prototype.docSelectDocByClinicUrl="doc/selectDocByClinic",e.default.prototype.newsDetailUrl="recommend/newsDetail",e.default.prototype.bindUserSourceUrl="scan/bindUserSource",e.default.prototype.websocketUrl="ws://192.168.10.254:8085/kf/websocket/app/",e.default.prototype.kfServerUrl="http://192.168.10.254:8085/kf/",e.default.prototype.chattingIdUrl=e.default.prototype.kfServerUrl+"websocket/getChattingId",e.default.prototype.ChattingChatRecordUrl=e.default.prototype.kfServerUrl+"Chatting/chatRecord",e.default.prototype.websocketOtherSendUrl=e.default.prototype.kfServerUrl+"websocket/otherSend";var c=new e.default(f({},r.default));e.default.use(s.default,c),t(c).$mount()}).call(this,o("543d")["createApp"])},"70be":function(t,e,o){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o={onLaunch:function(){var e=this;console.log("App Launch"),t.setStorageSync(this.DEVICETYPE,1);var o=t.getStorageSync(this.ISLOGIN);o&&this.goSocket(),t.$on(this.LOGINSOCKET,(function(t){console.log("登录成功来连接socket"),e.goSocket()}))},data:function(){return{kfSocketTask:""}},onShow:function(){console.log("App Show")},onUnload:function(){t.$off(this.INFORMLOGIN),t.$off(this.LOGINSOCKET),this.kfSocketTask.close(),this.socket.disconnect()},methods:{goSocket:function(){var e=this,o="customer_"+t.getStorageSync(this.ID);console.log("患者WebSocket连接id:"+o),this.socketLocal(o),this.socket.on("chat",(function(o){console.log("患者app患者收到服务器内容："+o);var r=getCurrentPages(),p=r[r.length-1];console.log(p.route),"pages/chat/chat"==p.route?t.$emit(e.SOCKETCHAT,o):t.$emit(e.INFORMNOREAD,""),t.vibrateLong()})),this.getCustomerId()},getCustomerId:function(){var e=this;t.request({url:this.chattingIdUrl,data:{type:2,id:t.getStorageSync(this.ID)},header:{"Content-Type":"application/x-www-form-urlencoded",token:t.getStorageSync("token")},method:"POST",success:function(o){e.id=o.data.data.id,console.log("获取聊天室id"+e.id),t.setStorageSync(e.KFCHATID,e.id),console.log("连接客服的socket："+e.websocketUrl+e.id+"customer"),e.kfSocketTask=t.connectSocket({url:e.websocketUrl+e.id+"customer",complete:function(){}}),e.kfSocketTask.onOpen((function(t){console.log("客服WebSocket连接已打开！")})),e.kfSocketTask.onError((function(t){console.log("客服WebSocket连接打开失败，请检查！"),console.log(JSON.stringify(t))})),e.kfSocketTask.onMessage((function(o){console.log("客服app患者收到服务器内容："+o.data);var r=getCurrentPages(),p=r[r.length-1];console.log(p.route),"pages/chat/kf-chat"==p.route?t.$emit(e.SOCKETKFCHAT,o.data):t.$emit(e.INFORMNOREAD,""),t.vibrateLong()})),e.kfSocketTask.onClose((function(t){console.log("客服WebSocket 已关闭！")}))},fail:function(t){console.log("获取客服聊天室id error"),console.log(t)}})}},onHide:function(){console.log("App Hide")}};e.default=o}).call(this,o("543d")["default"])},7520:function(t,e,o){},b985:function(t,e,o){"use strict";o.r(e);var r=o("70be"),p=o.n(r);for(var l in r)"default"!==l&&function(t){o.d(e,t,(function(){return r[t]}))}(l);e["default"]=p.a},eba8:function(t,e,o){"use strict";var r=o("7520"),p=o.n(r);p.a},f785:function(t,e,o){"use strict";o.r(e);var r=o("b985");for(var p in r)"default"!==p&&function(t){o.d(e,t,(function(){return r[t]}))}(p);o("eba8");var l,a,d,s,u=o("f0c5"),i=Object(u["a"])(r["default"],l,a,!1,null,null,null,!1,d,s);e["default"]=i.exports}},[["52e3","common/runtime","common/vendor"]]]);