(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/diagnosis-list/diagnosis-list"],{"3f67":function(t,i,s){"use strict";var a=s("6ac1"),e=s.n(a);e.a},"5edf":function(t,i,s){"use strict";(function(t){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var a=e(s("f96d"));function e(t){return t&&t.__esModule?t:{default:t}}var n={components:{myh5:a.default},onLoad:function(t){this.docId=t.docId,this.id=t.id,this.getQuesTionListData(),this.serverUrl=this.utilUploadUrl},data:function(){return{id:"",docId:"",questionData:"",serverUrl:"",current:0,answerData:[],moreAnswerData:[],tapQuestion:"",easyQuestion:"",imageData:[],paramList:[]}},methods:{aaa:function(t){this.tapQuestion=t},easyInput:function(t){this.easyQuestion=t},easyBlur:function(t){if(console.log("失去焦点"),console.log(this.easyQuestion),console.log(t),this.$u.test.isEmpty(t.detail.value))for(var i=0;i<this.paramList.length;i++)this.paramList[i].question==this.easyQuestion&&this.paramList.splice(i,1);else{var s={question:"",answer:""};if(s.question=this.easyQuestion,s.answer=t.detail.value,0==this.paramList.length)this.paramList.push(s);else{for(i=0;i<this.paramList.length;i++)this.paramList[i].question==s.question&&this.paramList.splice(i,1);this.paramList.push(s)}}},getQuesTionListData:function(){var i=this;t.showLoading(),this.$u.get(this.questionDetailUrl,{docId:this.docId}).then((function(s){if(t.hideLoading(),console.log(s),0==s.status){i.questionData=s.data;for(var a=0;a<s.data.length;a++)0==s.data[a].questionType?i.answerData.push(JSON.parse(s.data[a].answerChoose)):i.answerData.push(null),1==s.data[a].questionType?i.moreAnswerData.push(JSON.parse(s.data[a].answerChoose)):i.moreAnswerData.push(null)}})).catch((function(i){t.hideLoading()}))},checkboxChange:function(t){var i=t.detail.value;if(this.$u.test.isEmpty(t.detail.value))for(var s=0;s<this.paramList.length;s++)this.paramList[s].question==this.tapQuestion&&this.paramList.splice(s,1);else{var a="",e="";for(s=0;s<i.length;s++){var n=i[s].split("*");a+=n[1],e=n[0]}var o={question:"",answer:""};if(o.question=e,o.answer=a,0==this.paramList.length)this.paramList.push(o);else{for(s=0;s<this.paramList.length;s++)this.paramList[s].question==o.question&&this.paramList.splice(s,1);this.paramList.push(o)}}},radioChange:function(t){var i=t.target.value,s=i.split("/"),a={question:"",answer:""};if(a.question=s[0],a.answer=s[1],0==this.paramList.length)this.paramList.push(a);else{for(var e=0;e<this.paramList.length;e++)this.paramList[e].question==a.question&&this.paramList.splice(e,1);this.paramList.push(a)}},result:function(t){console.log("添加一张照片"),console.log(t),this.imageData=t.imgArr,console.log(this.imageData)},remove:function(t){console.log("移除一张图片，下标为"),console.log(t)},toUp:function(){var i=this;if(this.$u.test.isEmpty(this.paramList))this.$u.toast("请先回答问诊单问题");else{for(var s="",a="",e=0;e<this.paramList.length;e++)e!=this.paramList.length-1?(s+=this.paramList[e].question+"-",a+=this.paramList[e].answer+"-"):(s+=this.paramList[e].question,a+=this.paramList[e].answer);var n="";for(e=0;e<this.imageData.length;e++)e!=this.imageData.length-1?n+=this.imageData[e]+",":n+=this.imageData[e];console.log("医生id"+this.docId),console.log("首诊病例id"+this.id),console.log("要上传的问题"+s),console.log("要上传的答案"+a),console.log("上传凭证"),console.log(n),this.$u.get(this.questionSubmitUrl,{docId:this.docId,id:this.id,questions:s,answers:a,files:n}).then((function(s){console.log(s),0==s.status&&(i.$u.toast(s.msg),t.$emit(i.UPADMINISTRATIONLIST,""),i.toReview())})).catch((function(t){1==t.data.status&&i.$u.toast(t.data.msg)}))}},toReview:function(){t.navigateTo({url:"../review-list/review-list?id="+this.id})}}};i.default=n}).call(this,s("543d")["default"])},6697:function(t,i,s){"use strict";s.r(i);var a=s("c000"),e=s.n(a);for(var n in a)"default"!==n&&function(t){s.d(i,t,(function(){return a[t]}))}(n);i["default"]=e.a},"670e":function(t,i,s){"use strict";var a=s("84a2"),e=s.n(a);e.a},"6ac1":function(t,i,s){},"84a2":function(t,i,s){},a9e8:function(t,i,s){"use strict";s.r(i);var a=s("5edf"),e=s.n(a);for(var n in a)"default"!==n&&function(t){s.d(i,t,(function(){return a[t]}))}(n);i["default"]=e.a},b702:function(t,i,s){"use strict";s.r(i);var a=s("dbc3"),e=s("a9e8");for(var n in e)"default"!==n&&function(t){s.d(i,t,(function(){return e[t]}))}(n);s("3f67");var o,r=s("f0c5"),u=Object(r["a"])(e["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],o);i["default"]=u.exports},c000:function(t,i,s){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var a={name:"myh5",props:["docId"],data:function(){return{src:"",modal:!1,loading:!1}},onLoad:function(){console.log("的粉红色"+this.docI),this.docId&&this.downloadApp()},methods:{handleClick:function(){this.modal=!1},isWeiXinBrowser:function(){var t=window.navigator.userAgent.toLowerCase();return"micromessenger"==t.match(/MicroMessenger/i)},download:function(){window.location.href=this.h5APPPath},download2:function(){this.loading=!0,this.src=this.AppStorePath},downloadApp:function(){var t=this;this.$u.get(this.VersionPlatformUrl).then((function(i){0==i.status&&("Android"==i.msg?t.download():"iPhone"==i.msg&&t.download2())}))}}};i.default=a},d1b7:function(t,i,s){"use strict";var a;s.d(i,"b",(function(){return e})),s.d(i,"c",(function(){return n})),s.d(i,"a",(function(){return a}));var e=function(){var t=this,i=t.$createElement;t._self._c},n=[]},da81:function(t,i,s){"use strict";(function(t){s("77c6");a(s("66fd"));var i=a(s("b702"));function a(t){return t&&t.__esModule?t:{default:t}}t(i.default)}).call(this,s("543d")["createPage"])},dbc3:function(t,i,s){"use strict";s.d(i,"b",(function(){return e})),s.d(i,"c",(function(){return n})),s.d(i,"a",(function(){return a}));var a={tuiUpload:function(){return s.e("ui/tui-upload/tui-upload").then(s.bind(null,"f8b2"))}},e=function(){var t=this,i=t.$createElement,s=(t._self._c,t.toUp());t.$mp.data=Object.assign({},{$root:{m0:s}})},n=[]},f96d:function(t,i,s){"use strict";s.r(i);var a=s("d1b7"),e=s("6697");for(var n in e)"default"!==n&&function(t){s.d(i,t,(function(){return e[t]}))}(n);s("670e");var o,r=s("f0c5"),u=Object(r["a"])(e["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],o);i["default"]=u.exports}},[["da81","common/runtime","common/vendor"]]]);