(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/prescription-up/prescription-up"],{2246:function(t,n,e){},"32d8":function(t,n,e){"use strict";e.r(n);var i=e("553e"),o=e.n(i);for(var a in i)"default"!==a&&function(t){e.d(n,t,(function(){return i[t]}))}(a);n["default"]=o.a},"553e":function(t,n,e){"use strict";(function(t){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=o(e("f96d"));function o(t){return t&&t.__esModule?t:{default:t}}var a={components:{myh5:i.default},onLoad:function(n){var e=this;this.type=n.type,this.getPatient(),t.$on(this.UPPATIENT,(function(t){e.patientData=t}))},onUnload:function(){t.$off(this.UPPATIENT)},data:function(){return{type:"",isShow:!1,imageUrl:"",patientData:""}},onNavigationBarButtonTap:function(n){t.navigateTo({url:"../need-update-user/need-update-user?type=3&userData="+encodeURIComponent(JSON.stringify(this.patientData))})},methods:{upPrescription:function(){this.$u.test.isEmpty(this.imageUrl)?this.$u.toast("请先上传图片"):this.upImg()},upImg:function(){var n=this,e=this;t.showLoading(),t.uploadFile({url:e.firstUploadUrl,method:"POST",header:{"Content-Type":"multipart/form-data",token:t.getStorageSync("token")},filePath:this.imageUrl,name:"firstCaseFile",formData:{patientId:this.patientData.id},success:function(i){t.hideLoading(),console.log("上传成功"),console.log(i),1==e.type?(t.$emit(n.ISSHOWFIRSTDATA,"首页存在病例更新展示"),t.navigateBack()):2==e.type&&(t.$emit(n.UPADMINISTRATIONLIST,"更新复诊管理列表"),t.navigateBack())},fail:function(){t.hideLoading()}})},getPatient:function(){var t=this;this.$u.get(this.patientDefaultUrl).then((function(n){console.log("默认就诊人"),console.log(n),0==n.status&&(t.patientData=n.data)}))},goRegistration:function(){var n=this;t.chooseImage({count:1,sizeType:["original","compressed"],success:function(t){n.isShow=!0,console.log("回调图片路径"),n.imageUrl=t.tempFilePaths[0],console.log(JSON.stringify(t.tempFilePaths[0]))}})},clean:function(){this.isShow=!1,this.imageUrl=""}}};n.default=a}).call(this,e("543d")["default"])},"5e0d":function(t,n,e){"use strict";var i;e.d(n,"b",(function(){return o})),e.d(n,"c",(function(){return a})),e.d(n,"a",(function(){return i}));var o=function(){var t=this,n=t.$createElement;t._self._c},a=[]},6697:function(t,n,e){"use strict";e.r(n);var i=e("c000"),o=e.n(i);for(var a in i)"default"!==a&&function(t){e.d(n,t,(function(){return i[t]}))}(a);n["default"]=o.a},"670e":function(t,n,e){"use strict";var i=e("84a2"),o=e.n(i);o.a},"7b56":function(t,n,e){"use strict";(function(t){e("77c6");i(e("66fd"));var n=i(e("ee24"));function i(t){return t&&t.__esModule?t:{default:t}}t(n.default)}).call(this,e("543d")["createPage"])},"84a2":function(t,n,e){},c000:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i={name:"myh5",props:["docId"],data:function(){return{src:"",modal:!1,loading:!1}},onLoad:function(){console.log("的粉红色"+this.docI),this.docId&&this.downloadApp()},methods:{handleClick:function(){this.modal=!1},isWeiXinBrowser:function(){var t=window.navigator.userAgent.toLowerCase();return"micromessenger"==t.match(/MicroMessenger/i)},download:function(){window.location.href=this.h5APPPath},download2:function(){this.loading=!0,this.src=this.AppStorePath},downloadApp:function(){var t=this;this.$u.get(this.VersionPlatformUrl).then((function(n){0==n.status&&("Android"==n.msg?t.download():"iPhone"==n.msg&&t.download2())}))}}};n.default=i},d1b7:function(t,n,e){"use strict";var i;e.d(n,"b",(function(){return o})),e.d(n,"c",(function(){return a})),e.d(n,"a",(function(){return i}));var o=function(){var t=this,n=t.$createElement;t._self._c},a=[]},e120:function(t,n,e){"use strict";var i=e("2246"),o=e.n(i);o.a},ee24:function(t,n,e){"use strict";e.r(n);var i=e("5e0d"),o=e("32d8");for(var a in o)"default"!==a&&function(t){e.d(n,t,(function(){return o[t]}))}(a);e("e120");var u,r=e("f0c5"),s=Object(r["a"])(o["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],u);n["default"]=s.exports},f96d:function(t,n,e){"use strict";e.r(n);var i=e("d1b7"),o=e("6697");for(var a in o)"default"!==a&&function(t){e.d(n,t,(function(){return o[t]}))}(a);e("670e");var u,r=e("f0c5"),s=Object(r["a"])(o["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],u);n["default"]=s.exports}},[["7b56","common/runtime","common/vendor"]]]);