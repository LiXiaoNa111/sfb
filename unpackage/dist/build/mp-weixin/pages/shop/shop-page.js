(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/shop/shop-page"],{"28ba":function(t,o,n){"use strict";var e=n("a617"),s=n.n(e);s.a},"428e":function(t,o,n){"use strict";(function(t){n("77c6");e(n("66fd"));var o=e(n("76da"));function e(t){return t&&t.__esModule?t:{default:t}}t(o.default)}).call(this,n("543d")["createPage"])},5080:function(t,o,n){"use strict";(function(t){Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var e=s(n("f96d"));function s(t){return t&&t.__esModule?t:{default:t}}var i=function(){n.e("components/wyb-noticeBar/wyb-noticeBar").then(function(){return resolve(n("ae50"))}.bind(null,n)).catch(n.oe)},a={components:{wybNoticeBar:i,myh5:e.default},onLoad:function(){var o=t.getStorageSync(this.SORTLIST);this.$u.test.isEmpty(o)||(this.sortList=o);var n=t.getStorageSync(this.TYPELIST);this.$u.test.isEmpty(n)||(this.typeList=n);var e=t.getStorageSync(this.GOODSLIST);this.$u.test.isEmpty(e)||(this.goodsList=e),this.getLoad();var s=this;t.getNetworkType({success:function(t){console.log("网络状态监测111111"),console.log(t.networkType),"none"==t.networkType&&(console.log("无网络"),s.showTop(1))}})},data:function(){return{sortList:[],sortId:"",goodsList:"",typeList:[],TabCur:0,scrollLeft:0,pageNum:1,totalPage:0,basicData:[{type:"green",msg:"网络恢复连接~"},{type:"danger",msg:"网络无连接~"}],searchList:[]}},onShow:function(){var o=this;t.onNetworkStatusChange((function(t){console.log("网络状态监测222222"),console.log(t.isConnected),console.log(t.networkType),t.isConnected?(o.showTop(0),o.getLoad()):o.showTop(1)}))},methods:{getLoad:function(){this.getSortList(),this.getGoodsList(),this.getlist(),this.getSearchList()},toShop:function(){t.navigateTo({url:"../shop-cart/shop-cart"})},getSearchList:function(){var t=this;this.searchList=[];var o=this;this.$u.get(this.searchListUrl).then((function(t){if(console.log(t),0==t.status)for(var n=0;n<t.data.length;n++)o.searchList.push(t.data[n].content)})).catch((function(o){4==o.data.status&&(t.searchList=null)}))},showTop:function(t){console.log("打印index");var o={msg:this.basicData[t].msg,duration:this.basicData[t].duration||2e3,type:this.basicData[t].type};console.log(t),this.$refs.toast.showTips(o)},toSearch:function(){t.navigateTo({url:"../shop-search/shop-search?type=0"})},toList:function(o,n,e){1==o?t.navigateTo({url:"../shop-list/shop-list"}):t.navigateTo({url:"../shop-search/shop-search?type=2&id="+n+"&name="+e})},getlist:function(){var o=this;this.$u.get(this.goodsSortUrl).then((function(n){0==n.status&&(console.log("图文"),console.log(n.data),o.typeList=n.data,t.setStorageSync(o.TYPELIST,o.typeList))}))},getSortList:function(){var o=this;this.$u.get(this.departmentSortListUrl).then((function(n){o.sortList=[];var e=[{departmentName:"全部",id:""}];o.sortList=e.concat(n.data),t.setStorageSync(o.SORTLIST,o.sortList)}))},loadMore:function(){var t=this;this.pageNum+=1,this.$u.get(this.goodsListUrl,{pageNum:this.pageNum,departmentId:this.sortId}).then((function(o){if(console.log(o),0==o.status){for(var n=0;n<o.data.length;n++)t.goodsList.push(o.data[n]);t.$refs.loadRefresh.loadOver()}}))},refresh:function(){this.pageNum=1,this.getGoodsList()},getGoodsList:function(){var o=this;this.$u.get(this.goodsListUrl,{pageNum:this.pageNum,departmentId:this.sortId}).then((function(n){o.goodsList=n.data,t.setStorageSync(o.GOODSLIST,o.goodsList),o.totalPage=Number(n.msg),console.log(n.data)})).catch((function(t){4==t.data.status&&(o.goodsList=null,o.totalPage=0,o.$refs.loadRefresh.loadOver())}))},tabSelect:function(t){this.TabCur=t.currentTarget.dataset.id,this.scrollLeft=60*(t.currentTarget.dataset.id-1),this.sortId=this.sortList[this.TabCur].id,this.pageNum=1,this.getGoodsList()},toGoodDetail:function(o){t.navigateTo({url:"../shop-details/shop-details?id="+o})}}};o.default=a}).call(this,n("543d")["default"])},6697:function(t,o,n){"use strict";n.r(o);var e=n("c000"),s=n.n(e);for(var i in e)"default"!==i&&function(t){n.d(o,t,(function(){return e[t]}))}(i);o["default"]=s.a},"670e":function(t,o,n){"use strict";var e=n("84a2"),s=n.n(e);s.a},"76da":function(t,o,n){"use strict";n.r(o);var e=n("9a10"),s=n("d3fc");for(var i in s)"default"!==i&&function(t){n.d(o,t,(function(){return s[t]}))}(i);n("28ba");var a,r=n("f0c5"),u=Object(r["a"])(s["default"],e["b"],e["c"],!1,null,null,null,!1,e["a"],a);o["default"]=u.exports},"84a2":function(t,o,n){},"9a10":function(t,o,n){"use strict";n.d(o,"b",(function(){return s})),n.d(o,"c",(function(){return i})),n.d(o,"a",(function(){return e}));var e={tuiTips:function(){return n.e("ui/tui-tips/tui-tips").then(n.bind(null,"ac3e"))},wybNoticeBar:function(){return n.e("components/wyb-noticeBar/wyb-noticeBar").then(n.bind(null,"ae50"))},loadRefresh:function(){return n.e("components/load-refresh/load-refresh").then(n.bind(null,"763e"))},tuiIcon:function(){return n.e("ui/tui-icon/tui-icon").then(n.bind(null,"9c6f"))}},s=function(){var t=this,o=t.$createElement;t._self._c},i=[]},a617:function(t,o,n){},c000:function(t,o,n){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var e={name:"myh5",props:["docId"],data:function(){return{src:"",modal:!1,loading:!1}},onLoad:function(){console.log("的粉红色"+this.docI),this.docId&&this.downloadApp()},methods:{handleClick:function(){this.modal=!1},isWeiXinBrowser:function(){var t=window.navigator.userAgent.toLowerCase();return"micromessenger"==t.match(/MicroMessenger/i)},download:function(){window.location.href=this.h5APPPath},download2:function(){this.loading=!0,this.src=this.AppStorePath},downloadApp:function(){var t=this;this.$u.get(this.VersionPlatformUrl).then((function(o){0==o.status&&("Android"==o.msg?t.download():"iPhone"==o.msg&&t.download2())}))}}};o.default=e},d1b7:function(t,o,n){"use strict";var e;n.d(o,"b",(function(){return s})),n.d(o,"c",(function(){return i})),n.d(o,"a",(function(){return e}));var s=function(){var t=this,o=t.$createElement;t._self._c},i=[]},d3fc:function(t,o,n){"use strict";n.r(o);var e=n("5080"),s=n.n(e);for(var i in e)"default"!==i&&function(t){n.d(o,t,(function(){return e[t]}))}(i);o["default"]=s.a},f96d:function(t,o,n){"use strict";n.r(o);var e=n("d1b7"),s=n("6697");for(var i in s)"default"!==i&&function(t){n.d(o,t,(function(){return s[t]}))}(i);n("670e");var a,r=n("f0c5"),u=Object(r["a"])(s["default"],e["b"],e["c"],!1,null,null,null,!1,e["a"],a);o["default"]=u.exports}},[["428e","common/runtime","common/vendor"]]]);