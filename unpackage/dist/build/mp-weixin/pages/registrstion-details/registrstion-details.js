(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/registrstion-details/registrstion-details"],{"0375":function(t,o,n){"use strict";n.r(o);var i=n("6800"),e=n("0ad3");for(var s in e)"default"!==s&&function(t){n.d(o,t,(function(){return e[t]}))}(s);n("7b0c");var c,a=n("f0c5"),r=Object(a["a"])(e["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],c);o["default"]=r.exports},"0ad3":function(t,o,n){"use strict";n.r(o);var i=n("d3a7"),e=n.n(i);for(var s in i)"default"!==s&&function(t){n.d(o,t,(function(){return i[t]}))}(s);o["default"]=e.a},"18db":function(t,o,n){"use strict";(function(t){n("77c6");i(n("66fd"));var o=i(n("0375"));function i(t){return t&&t.__esModule?t:{default:t}}t(o.default)}).call(this,n("543d")["createPage"])},6697:function(t,o,n){"use strict";n.r(o);var i=n("c000"),e=n.n(i);for(var s in i)"default"!==s&&function(t){n.d(o,t,(function(){return i[t]}))}(s);o["default"]=e.a},"670e":function(t,o,n){"use strict";var i=n("84a2"),e=n.n(i);e.a},6800:function(t,o,n){"use strict";n.d(o,"b",(function(){return e})),n.d(o,"c",(function(){return s})),n.d(o,"a",(function(){return i}));var i={tuiCollapse:function(){return n.e("ui/tui-collapse/tui-collapse").then(n.bind(null,"0fae"))},tuiListCell:function(){return n.e("ui/tui-list-cell/tui-list-cell").then(n.bind(null,"0245"))},tuiBottomPopup:function(){return n.e("ui/tui-bottom-popup/tui-bottom-popup").then(n.bind(null,"54a2"))}},e=function(){var t=this,o=t.$createElement;t._self._c},s=[]},"7b0c":function(t,o,n){"use strict";var i=n("bbf6"),e=n.n(i);e.a},"84a2":function(t,o,n){},bbf6:function(t,o,n){},c000:function(t,o,n){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var i={name:"myh5",props:["docId"],data:function(){return{src:"",modal:!1,loading:!1}},onLoad:function(){console.log("的粉红色"+this.docI),this.docId&&this.downloadApp()},methods:{handleClick:function(){this.modal=!1},isWeiXinBrowser:function(){var t=window.navigator.userAgent.toLowerCase();return"micromessenger"==t.match(/MicroMessenger/i)},download:function(){window.location.href=this.h5APPPath},download2:function(){this.loading=!0,this.src=this.AppStorePath},downloadApp:function(){var t=this;this.$u.get(this.VersionPlatformUrl).then((function(o){0==o.status&&("Android"==o.msg?t.download():"iPhone"==o.msg&&t.download2())}))}}};o.default=i},d1b7:function(t,o,n){"use strict";var i;n.d(o,"b",(function(){return e})),n.d(o,"c",(function(){return s})),n.d(o,"a",(function(){return i}));var e=function(){var t=this,o=t.$createElement;t._self._c},s=[]},d3a7:function(t,o,n){"use strict";(function(t){Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var i=e(n("f96d"));function e(t){return t&&t.__esModule?t:{default:t}}var s={components:{myh5:i.default},onLoad:function(t){this.doctorId=t.doctorId,this.price=t.price,console.log("医生1id"),console.log(this.doctorId),console.log(this.price),this.regFee=0,this.getDcotorDetail()},onShow:function(){this.getDcotorDetail()},data:function(){return{ghCurrent:-1,doctorId:0,price:0,doctorDetail:"",docInTimeId:"",regFee:"",payShow:!1,payType:!1,dooInVoList:"",docLabelList:"",synopsis:"",isSynopsis:""}},methods:{toSee:function(){this.synopsis=this.doctorDetail.synopsis,this.isSynopsis=1},toHide:function(){this.synopsis=this.doctorDetail.synopsis.substring(0,50)+"...",this.isSynopsis=2},ghChange:function(t){0==this.ghCurrent?this.ghCurrent=-1:-1==this.ghCurrent&&(this.ghCurrent=0)},change:function(t){var o=t.index,n=this.dooInVoList[o];n.current=n.current==o?-1:o},checkPay:function(t){t||(this.payType=!this.payType)},payPopup:function(){this.payShow=!this.payShow},getDcotorDetail:function(){var t=this;console.log("医生id"),console.log(this.doctorId);var o=this;this.$u.get(this.myDoctorDetailUrl,{docId:this.doctorId}).then((function(n){if(0==n.status){if(t.doctorDetail=n.data,console.log("医生详情"),console.log(n.data),console.log("简介长度"),console.log(t.doctorDetail.synopsis),o.$u.test.isEmpty(n.data.synopsis)?(o.synopsis=null,o.isSynopsis=0):(o.synopsis="",o.doctorDetail.synopsis.length>50?(o.synopsis=o.doctorDetail.synopsis.substring(0,50)+"...",o.isSynopsis=2):(o.synopsis=n.data.synopsis,o.isSynopsis=0)),o.$u.test.isEmpty(n.data.dooInVoList))o.dooInVoList=null;else{o.dooInVoList=[];for(var i=n.data.dooInVoList,e=0;e<i.length;e++){var s={clinicName:i[e].clinicName,clinicAddr:i[e].clinicAddr,docInTimeVos:i[e].docInTimeVos,current:0==e?0:-1,disabled:!1};o.dooInVoList.push(s)}}o.$u.test.isEmpty(n.data.docLabelList)?o.docLabelList=null:o.docLabelList=n.data.docLabelList}})).catch((function(o){t.$u.toast(o.data.msg)}))},checkDate:function(t,o){this.docInTimeId=t,this.regFee=o},toResult:function(o){t.navigateTo({url:"../registration-result/registration-result?id="+o})},goRegistration:function(){var t=this;this.$u.test.isEmpty(this.docInTimeId)?this.$u.toast("请先选择要挂号的时间"):0!=this.regFee?this.payPopup():this.$u.get(this.freeRegistrationUrl,{docInTimeId:this.docInTimeId}).then((function(o){console.log(o),0==o.status&&(t.toResult(t.docInTimeId),t.docInTimeId="")}))},handleHiddenShare:function(){var o=this,n=this;this.payPopup();var i=this.payType?1:2;this.$u.get(this.payAliRegistrationUrl,{docInTimeId:this.docInTimeId,platform:i,deviceType:t.getStorageSync(this.DEVICETYPE)}).then((function(e){console.log("挂号去支付"+i),console.log(e),0==e.status&&(o.payType?t.requestPayment({provider:"alipay",orderInfo:e.msg,success:function(t){n.toResult(n.docInTimeId),n.docInTimeId=""},fail:function(t){console.log("失败fail:"+JSON.stringify(t))}}):n.wxPay(e.data))}))},wxApi:function(o){var n=this;t.requestPayment({provider:"wxpay",orderInfo:o,success:function(t){n.toResult(n.docInTimeId),n.docInTimeId=""},fail:function(t){console.log("失败fail:"+JSON.stringify(t))}})},wxPay:function(o){t.requestPayment({provider:"wxpay",timeStamp:o.timestamp,nonceStr:o.noncestr,package:o.packagevalue,signType:"MD5",paySign:o.sign,success:function(t){console.log("微信支付成功回调"),me.toResult(me.docInTimeId),me.docInTimeId=""},fail:function(t){console.log("微信支付失败回调:"+JSON.stringify(t))}})},spillToast:function(){this.$u.toast("该医生当前时间已挂满，请另选其他时间")}}};o.default=s}).call(this,n("543d")["default"])},f96d:function(t,o,n){"use strict";n.r(o);var i=n("d1b7"),e=n("6697");for(var s in e)"default"!==s&&function(t){n.d(o,t,(function(){return e[t]}))}(s);n("670e");var c,a=n("f0c5"),r=Object(a["a"])(e["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],c);o["default"]=r.exports}},[["18db","common/runtime","common/vendor"]]]);